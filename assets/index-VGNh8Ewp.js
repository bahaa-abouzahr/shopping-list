(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var gf={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function h0(){if(jp)return Il;jp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var m=null;if(h!==void 0&&(m=""+h),o.key!==void 0&&(m=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:m,ref:o!==void 0?o:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Hp;function f0(){return Hp||(Hp=1,gf.exports=h0()),gf.exports}var Ct=f0(),pf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function d0(){if(Gp)return At;Gp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,rt={};function J(D,X,et){this.props=D,this.context=X,this.refs=rt,this.updater=et||Q}J.prototype.isReactComponent={},J.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function st(){}st.prototype=J.prototype;function nt(D,X,et){this.props=D,this.context=X,this.refs=rt,this.updater=et||Q}var lt=nt.prototype=new st;lt.constructor=nt,$(lt,J.prototype),lt.isPureReactComponent=!0;var Tt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Bt=Object.prototype.hasOwnProperty;function N(D,X,et,Z,ht,bt){return et=bt.ref,{$$typeof:s,type:D,key:X,ref:et!==void 0?et:null,props:bt}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var I=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):X.toString(36)}function R(){}function Me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,X,et,Z,ht){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var _t=!1;if(D===null)_t=!0;else switch(bt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(D.$$typeof){case s:case e:_t=!0;break;case A:return _t=D._init,re(_t(D._payload),X,et,Z,ht)}}if(_t)return ht=ht(D),_t=Z===""?"."+U(D,0):Z,Tt(ht)?(et="",_t!=null&&(et=_t.replace(I,"$&/")+"/"),re(ht,X,et,"",function(xn){return xn})):ht!=null&&(w(ht)&&(ht=S(ht,et+(ht.key==null||D&&D.key===ht.key?"":(""+ht.key).replace(I,"$&/")+"/")+_t)),X.push(ht)),1;_t=0;var Re=Z===""?".":Z+":";if(Tt(D))for(var Zt=0;Zt<D.length;Zt++)Z=D[Zt],bt=Re+U(Z,Zt),_t+=re(Z,X,et,bt,ht);else if(Zt=x(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(Z=D.next()).done;)Z=Z.value,bt=Re+U(Z,Zt++),_t+=re(Z,X,et,bt,ht);else if(bt==="object"){if(typeof D.then=="function")return re(Me(D),X,et,Z,ht);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _t}function j(D,X,et){if(D==null)return D;var Z=[],ht=0;return re(D,Z,"","",function(bt){return X.call(et,bt,ht++)}),Z}function tt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return At.Children={map:j,forEach:function(D,X,et){j(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return j(D,function(){X++}),X},toArray:function(D){return j(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=J,At.Fragment=i,At.Profiler=o,At.PureComponent=nt,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=$({},D.props),ht=D.key,bt=void 0;if(X!=null)for(_t in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ht=""+X.key),X)!Bt.call(X,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&X.ref===void 0||(Z[_t]=X[_t]);var _t=arguments.length-2;if(_t===1)Z.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];Z.children=Re}return N(D.type,ht,void 0,void 0,bt,Z)},At.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},At.createElement=function(D,X,et){var Z,ht={},bt=null;if(X!=null)for(Z in X.key!==void 0&&(bt=""+X.key),X)Bt.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ht[Z]=X[Z]);var _t=arguments.length-2;if(_t===1)ht.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];ht.children=Re}if(D&&D.defaultProps)for(Z in _t=D.defaultProps,_t)ht[Z]===void 0&&(ht[Z]=_t[Z]);return N(D,bt,void 0,void 0,null,ht)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:p,render:D}},At.isValidElement=w,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},At.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},At.startTransition=function(D){var X=pt.T,et={};pt.T=et;try{var Z=D(),ht=pt.S;ht!==null&&ht(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(zt,ct)}catch(bt){ct(bt)}finally{pt.T=X}},At.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},At.use=function(D){return pt.H.use(D)},At.useActionState=function(D,X,et){return pt.H.useActionState(D,X,et)},At.useCallback=function(D,X){return pt.H.useCallback(D,X)},At.useContext=function(D){return pt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,X){return pt.H.useDeferredValue(D,X)},At.useEffect=function(D,X,et){var Z=pt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,X)},At.useId=function(){return pt.H.useId()},At.useImperativeHandle=function(D,X,et){return pt.H.useImperativeHandle(D,X,et)},At.useInsertionEffect=function(D,X){return pt.H.useInsertionEffect(D,X)},At.useLayoutEffect=function(D,X){return pt.H.useLayoutEffect(D,X)},At.useMemo=function(D,X){return pt.H.useMemo(D,X)},At.useOptimistic=function(D,X){return pt.H.useOptimistic(D,X)},At.useReducer=function(D,X,et){return pt.H.useReducer(D,X,et)},At.useRef=function(D){return pt.H.useRef(D)},At.useState=function(D){return pt.H.useState(D)},At.useSyncExternalStore=function(D,X,et){return pt.H.useSyncExternalStore(D,X,et)},At.useTransition=function(){return pt.H.useTransition()},At.version="19.1.1",At}var Qp;function Jf(){return Qp||(Qp=1,pf.exports=d0()),pf.exports}var rs=Jf(),yf={exports:{}},Nl={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function m0(){return Yp||(Yp=1,(function(s){function e(j,tt){var ct=j.length;j.push(tt);t:for(;0<ct;){var zt=ct-1>>>1,D=j[zt];if(0<o(D,tt))j[zt]=tt,j[ct]=D,ct=zt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ct=j.pop();if(ct!==tt){j[0]=ct;t:for(var zt=0,D=j.length,X=D>>>1;zt<X;){var et=2*(zt+1)-1,Z=j[et],ht=et+1,bt=j[ht];if(0>o(Z,ct))ht<D&&0>o(bt,Z)?(j[zt]=bt,j[ht]=ct,zt=ht):(j[zt]=Z,j[et]=ct,zt=et);else if(ht<D&&0>o(bt,ct))j[zt]=bt,j[ht]=ct,zt=ht;else break t}}return tt}function o(j,tt){var ct=j.sortIndex-tt.sortIndex;return ct!==0?ct:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,p=m.now();s.unstable_now=function(){return m.now()-p}}var v=[],_=[],A=1,O=null,x=3,Q=!1,$=!1,rt=!1,J=!1,st=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Tt(j){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=j)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function pt(j){if(rt=!1,Tt(j),!$)if(i(v)!==null)$=!0,Bt||(Bt=!0,U());else{var tt=i(_);tt!==null&&re(pt,tt.startTime-j)}}var Bt=!1,N=-1,S=5,w=-1;function V(){return J?!0:!(s.unstable_now()-w<S)}function I(){if(J=!1,Bt){var j=s.unstable_now();w=j;var tt=!0;try{t:{$=!1,rt&&(rt=!1,nt(N),N=-1),Q=!0;var ct=x;try{e:{for(Tt(j),O=i(v);O!==null&&!(O.expirationTime>j&&V());){var zt=O.callback;if(typeof zt=="function"){O.callback=null,x=O.priorityLevel;var D=zt(O.expirationTime<=j);if(j=s.unstable_now(),typeof D=="function"){O.callback=D,Tt(j),tt=!0;break e}O===i(v)&&a(v),Tt(j)}else a(v);O=i(v)}if(O!==null)tt=!0;else{var X=i(_);X!==null&&re(pt,X.startTime-j),tt=!1}}break t}finally{O=null,x=ct,Q=!1}tt=void 0}}finally{tt?U():Bt=!1}}}var U;if(typeof lt=="function")U=function(){lt(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=I,U=function(){Me.postMessage(null)}}else U=function(){st(I,0)};function re(j,tt){N=st(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(j){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ct=x;x=tt;try{return j()}finally{x=ct}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ct=x;x=j;try{return tt()}finally{x=ct}},s.unstable_scheduleCallback=function(j,tt,ct){var zt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,j={id:A++,callback:tt,priorityLevel:j,startTime:ct,expirationTime:D,sortIndex:-1},ct>zt?(j.sortIndex=ct,e(_,j),i(v)===null&&j===i(_)&&(rt?(nt(N),N=-1):rt=!0,re(pt,ct-zt))):(j.sortIndex=D,e(v,j),$||Q||($=!0,Bt||(Bt=!0,U()))),j},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(j){var tt=x;return function(){var ct=x;x=tt;try{return j.apply(this,arguments)}finally{x=ct}}}})(vf)),vf}var Fp;function g0(){return Fp||(Fp=1,_f.exports=m0()),_f.exports}var Ef={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function p0(){if(Xp)return Ge;Xp=1;var s=Jf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=m.T,A=a.p;try{if(m.T=null,a.p=2,v)return v()}finally{m.T=_,a.p=A,a.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:x,fetchPriority:Q}):A==="script"&&a.d.X(v,{crossOrigin:O,integrity:x,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ge.requestFormReset=function(v){a.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var Kp;function y0(){if(Kp)return Ef.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=p0(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function _0(){if(Zp)return Nl;Zp=1;var s=g0(),e=Jf(),i=y0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case J:return"Profiler";case rt:return"StrictMode";case pt:return"Suspense";case Bt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case lt:return(t.displayName||"Context")+".Provider";case nt:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=zt[D],zt[D]=null,D--)}function Z(t,n){D++,zt[D]=t.current,t.current=n}var ht=X(null),bt=X(null),_t=X(null),Re=X(null);function Zt(t,n){switch(Z(_t,n),Z(bt,t),Z(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?pp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=pp(n),t=yp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ht),Z(ht,t)}function xn(){et(ht),et(bt),et(_t)}function xi(t){t.memoizedState!==null&&Z(Re,t);var n=ht.current,r=yp(n,t.type);n!==r&&(Z(bt,t),Z(ht,r))}function ri(t){bt.current===t&&(et(ht),et(bt)),Re.current===t&&(et(Re),Rl._currentValue=ct)}var Er=Object.prototype.hasOwnProperty,Tr=s.unstable_scheduleCallback,Ar=s.unstable_cancelCallback,As=s.unstable_shouldYield,iu=s.unstable_requestPaint,fn=s.unstable_now,mc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,fa=s.unstable_UserBlockingPriority,Sr=s.unstable_NormalPriority,gc=s.unstable_LowPriority,da=s.unstable_IdlePriority,bs=s.log,ru=s.unstable_setDisableYieldValue,ae=null,jt=null;function nn(t){if(typeof bs=="function"&&ru(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:br,au=Math.log,pc=Math.LN2;function br(t){return t>>>=0,t===0?32:31-(au(t)/pc|0)|0}var Rr=256,wr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Dr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),t}function Ds(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),Y=1<<H;E[H]=0,b[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function su(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,fe="__reactProps$"+Wt,dn="__reactContainer$"+Wt,Is="__reactEvents$"+Wt,yc="__reactListeners$"+Wt,zi="__reactHandles$"+Wt,lu="__reactResources$"+Wt,Cr="__reactMarker$"+Wt;function Pi(t){delete t[_e],delete t[fe],delete t[Is],delete t[yc],delete t[zi]}function li(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Tp(t);t!==null;){if(r=t[_e])return r;t=Tp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Cr]=!0}var Ns=new Set,pa={};function Cn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(pa[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Vr={};function cu(t){return Er.call(Vr,t)?!0:Er.call(ou,t)?!1:uu.test(t)?Vr[t]=!0:(ou[t]=!0,!1)}function Bi(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ir,hu;function oi(t){if(Ir===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ir=n&&n[1]||"",hu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+hu}var ya=!1;function _a(t,n){if(!t||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function Os(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return oi("Activity");default:return""}}function va(t){try{var n="";do n+=Os(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ea(t){t._valueTracker||(t._valueTracker=_c(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vc=/[\n"\\]/g;function de(t){return t.replace(vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ki(t,y,Ke(n)):r!=null?ki(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Or(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ki(t,n,r){n==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Mr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||xr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Us(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&fu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&fu(t,f,n[f])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function zs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Bn=!1;function du(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(fi!==null||di!==null)&&(so(),fi&&(n=fi,t=di,di=fi=null,zs(n),t)))for(n=0;n<t.length;n++)zs(t[n])}}function Ur(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Vn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{pn=!1}var kn=null,qi=null,mi=null;function Ps(){if(mi)return mi;var t,n=qi,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Bs(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=we(kt),zr=A({},kt,{view:0,detail:0}),mu=we(zr),Sa,ba,Hn,Pr=A({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Sa=t.screenX-Hn.screenX,ba=t.screenY-Hn.screenY):ba=Sa=0,Hn=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),yn=we(Pr),gu=A({},Pr,{dataTransfer:0}),Ac=we(gu),Br=A({},zr,{relatedTarget:0}),Ra=we(Br),ks=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=we(ks),pu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Da=we(pu),Sc=A({},kt,{data:0}),qs=we(Sc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_u[t])?!!n[t]:!1}function qr(){return js}var vu=A({},zr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=we(vu),Eu=A({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=we(Eu),gi=A({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),Tu=we(gi),Au=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=we(Au),bu=A({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=we(bu),Ze=A({},kt,{newState:0,oldState:0}),Ru=we(Ze),wu=[9,13,27,32],Gn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var d=Vn&&"TextEvent"in window&&!u,g=Vn&&(!Gn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return wu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Gn&&q(t,n)?(t=Ps(),mi=qi=kn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=fo(n,"onChange"),0<n.length&&(r=new Aa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Qn=null;function Gs(t){hp(t,0)}function Du(t){var n=zn(t);if(xs(n))return t}function Od(t,n){if(t==="change")return n}var Md=!1;if(Vn){var bc;if(Vn){var Rc="oninput"in document;if(!Rc){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),Rc=typeof xd.oninput=="function"}bc=Rc}else bc=!1;Md=bc&&(!document.documentMode||9<document.documentMode)}function Ud(){Ue&&(Ue.detachEvent("onpropertychange",Ld),Qn=Ue=null)}function Ld(t){if(t.propertyName==="value"&&Du(Qn)){var n=[];pi(n,Qn,t,gn(t)),du(Gs,n)}}function qv(t,n,r){t==="focusin"?(Ud(),Ue=n,Qn=r,Ue.attachEvent("onpropertychange",Ld)):t==="focusout"&&Ud()}function jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Qn)}function Hv(t,n){if(t==="click")return Du(n)}function Gv(t,n){if(t==="input"||t==="change")return Du(n)}function Qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:Qv;function Qs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Er.call(n,c)||!an(t[c],n[c]))return!1}return!0}function zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,n){var r=zd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=zd(r)}}function Bd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Nr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Nr(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Yv=Vn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Dc=null,Ys=null,Cc=!1;function qd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||Ia==null||Ia!==Nr(l)||(l=Ia,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Qs(Ys,l)||(Ys=l,l=fo(Dc,"onSelect"),0<l.length&&(n=new Aa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ia)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Na={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Vc={},jd={};Vn&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Hr(t){if(Vc[t])return Vc[t];if(!Na[t])return t;var n=Na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jd)return Vc[t]=n[r];return t}var Hd=Hr("animationend"),Gd=Hr("animationiteration"),Qd=Hr("animationstart"),Fv=Hr("transitionrun"),Xv=Hr("transitionstart"),Kv=Hr("transitioncancel"),Yd=Hr("transitionend"),Fd=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function In(t,n){Fd.set(t,n),Cn(n,[t])}var Xd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=Xd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:va(n)},Xd.set(t,n),n)}return{value:t,source:n,stack:va(n)}}var vn=[],Oa=0,Nc=0;function Cu(){for(var t=Oa,n=Nc=Oa=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Kd(r,c,f)}}function Vu(t,n,r,l){vn[Oa++]=t,vn[Oa++]=n,vn[Oa++]=r,vn[Oa++]=l,Nc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Oc(t,n,r,l){return Vu(t,n,r,l),Iu(t)}function Ma(t,n){return Vu(t,null,null,n),Iu(t)}function Kd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<yl)throw yl=0,Ph=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xa={};function Zv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new Zv(t,n,r,l)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Zd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Mc(t)&&(y=1);else if(typeof t=="string")y=$E(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case $:return Gr(r.children,c,f,n);case rt:y=8,c|=24;break;case J:return t=sn(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case pt:return t=sn(13,r,n,c),t.elementType=pt,t.lanes=f,t;case Bt:return t=sn(19,r,n,c),t.elementType=Bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:case lt:y=10;break t;case nt:y=9;break t;case Tt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function xc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Uc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ua=[],La=0,Ou=null,Mu=0,En=[],Tn=0,Qr=null,_i=1,vi="";function Yr(t,n){Ua[La++]=Mu,Ua[La++]=Ou,Ou=t,Mu=n}function Jd(t,n,r){En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=Qr,Qr=t;var l=_i;t=vi;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-je(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function Lc(t){t.return!==null&&(Yr(t,1),Jd(t,1,0))}function zc(t){for(;t===Ou;)Ou=Ua[--La],Ua[La]=null,Mu=Ua[--La],Ua[La]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null}var Je=null,se=null,Pt=!1,Fr=null,Yn=!1,Pc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw Ks(_n(n,t)),Pc}function $d(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Dt(vl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Or(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Mr(n,l.value,l.defaultValue,l.children),Ea(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||gp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=mo),n=!0):n=!1,n||Xr(t)}function Wd(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Je=Je.return}}function Fs(t){if(t!==Je)return!1;if(!Pt)return Wd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&se&&Xr(t),Wd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ir(t.type)?(t=af,af=null,se=t):se=n):se=Je?On(t.stateNode.nextSibling):null;return!0}function Xs(){se=Je=null,Pt=!1}function tm(){var t=Fr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Fr=null),t}function Ks(t){Fr===null?Fr=[t]:Fr.push(t)}var Bc=X(null),Kr=null,Ei=null;function ji(t,n,r){Z(Bc,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=Bc.current,et(Bc)}function kc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),kc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),kc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&qc(n,t,r,l),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Kr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return em(Kr,t)}function Uu(t,n){return Kr===null&&Zr(t),em(t,n)}function em(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var Jv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},$v=s.unstable_scheduleCallback,Wv=s.unstable_NormalPriority,Te={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new Jv,data:new Map,refCount:0}}function Js(t){t.refCount--,t.refCount===0&&$v(Wv,function(){t.controller.abort()})}var $s=null,Hc=0,za=0,Pa=null;function tE(t,n){if($s===null){var r=$s=[];Hc=0,za=Qh(),Pa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Hc++,n.then(nm,nm),n}function nm(){if(--Hc===0&&$s!==null){Pa!==null&&(Pa.status="fulfilled");var t=$s;$s=null,za=0,Pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function eE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var im=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&tE(t,n),im!==null&&im(t,n)};var Jr=X(null);function Gc(){var t=Jr.current;return t!==null?t:Jt.pooledCache}function Lu(t,n){n===null?Z(Jr,Jr.current):Z(Jr,n.pool)}function rm(){var t=Gc();return t===null?null:{parent:Te._currentValue,pool:t}}var Ws=Error(a(460)),am=Error(a(474)),zu=Error(a(542)),Qc={then:function(){}};function sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pu(){}function lm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Pu,Pu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,om(t),t;default:if(typeof n.status=="string")n.then(Pu,Pu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,om(t),t}throw tl=n,Ws}}var tl=null;function um(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function om(t){if(t===Ws||t===zu)throw Error(a(483))}var Hi=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Iu(t),Kd(t,null,r),n}return Vu(t,l,n,r),Iu(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function Xc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Kc=!1;function nl(){if(Kc){var t=Pa;if(t!==null)throw t}}function il(t,n,r,l){Kc=!1;var c=t.updateQueue;Hi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,H=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===za&&(Kc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,dt=E;B=n;var Xt=r;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Y=yt.call(Xt,Y,B);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,B=typeof yt=="function"?yt.call(Xt,Y,B):yt,B==null)break t;Y=A({},Y,B);break t;case 2:Hi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=k,b=Y):H=H.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Wi|=y,t.lanes=y,t.memoizedState=Y}}function cm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cm(r[t],n)}var Ba=X(null),Bu=X(0);function fm(t,n){t=Ci,Z(Bu,t),Z(Ba,n),Ci=t|n.baseLanes}function Zc(){Z(Bu,Ci),Z(Ba,Ba.current)}function Jc(){Ci=Bu.current,et(Ba),et(Bu)}var Yi=0,St=null,Yt=null,me=null,ku=!1,ka=!1,$r=!1,qu=0,rl=0,qa=null,nE=0;function oe(){throw Error(a(321))}function $c(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function Wc(t,n,r,l,c,f){return Yi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Km:Zm,$r=!1,f=r(l,c),$r=!1,ka&&(f=mm(n,r,l,c)),dm(t),f}function dm(t){j.H=Fu;var n=Yt!==null&&Yt.next!==null;if(Yi=0,me=Yt=St=null,ku=!1,rl=0,qa=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&xu(t)&&(Ce=!0))}function mm(t,n,r,l){St=t;var c=0;do{if(ka&&(qa=null),rl=0,ka=!1,25<=c)throw Error(a(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=oE,f=n(r,l)}while(ka);return f}function iE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function th(){var t=qu!==0;return qu=0,t}function eh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function nh(t){if(ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ku=!1}Yi=0,me=Yt=St=null,ka=!1,rl=qu=0,qa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,qa===null&&(qa=[]),t=lm(qa,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Km:Zm),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===lt)return He(t)}throw Error(a(438,String(t)))}function rh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ih(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ai(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=ge();return ah(n,Yt,t)}function ah(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Mt&Y)===Y:(Yi&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===za&&(H=!0);else if((Yi&B)===B){P=P.next,B===za&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,St.lanes|=B,Wi|=B;Y=P.action,$r&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=Y,Wi|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ce=!0,H&&(r=Pa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sh(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function gm(t,n,r){var l=St,c=ge(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=_m.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,ja(9,Gu(),ym.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(Yi&124)!==0||pm(l,n,r)}return r}function pm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=ih(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ym(t,n,r,l){n.value=r,n.getSnapshot=l,vm(n)&&Em(t)}function _m(t,n,r){return r(function(){vm(n)&&Em(t)})}function vm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Em(t){var n=Ma(t,2);n!==null&&hn(n,t,2)}function lh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),$r){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Tm(t,n,r,l){return t.baseState=r,ah(t,Yt,typeof l=="function"?l:Ai)}function rE(t,n,r,l,c){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Am(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Am(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Sm(t,n,E)}catch(P){uh(t,n,P)}finally{j.T=f}}else try{f=r(c,l),Sm(t,n,f)}catch(P){uh(t,n,P)}}function Sm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bm(t,n,l)},function(l){return uh(t,n,l)}):bm(t,n,r)}function bm(t,n,r){n.status="fulfilled",n.value=r,Rm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Am(t,r)))}function uh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Rm(n),n=n.next;while(n!==l)}t.action=null}function Rm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wm(t,n){return n}function Dm(t,n){if(Pt){var r=Jt.formState;if(r!==null){t:{var l=St;if(Pt){if(se){e:{for(var c=se,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=On(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:n},r.queue=l,r=Ym.bind(null,St,l),l.dispatch=r,l=lh(!1),f=dh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=rE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cm(t){var n=ge();return Vm(n,Yt,t)}function Vm(t,n,r){if(n=ah(t,n,wm)[0],t=Hu(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?zu:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ja(9,Gu(),aE.bind(null,c,r),null)),[l,f,t]}function aE(t,n){t.action=n}function Im(t){var n=ge(),r=Yt;if(r!==null)return Vm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=ih(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function Nm(){return ge().memoizedState}function Qu(t,n,r,l){var c=$e();l=l===void 0?null:l,St.flags|=t,c.memoizedState=ja(1|n,Gu(),r,l)}function sl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&$c(l,Yt.memoizedState.deps)?c.memoizedState=ja(n,f,r,l):(St.flags|=t,c.memoizedState=ja(1|n,f,r,l))}function Om(t,n){Qu(8390656,8,t,n)}function Mm(t,n){sl(2048,8,t,n)}function xm(t,n){return sl(4,2,t,n)}function Um(t,n){return sl(4,4,t,n)}function Lm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,Lm.bind(null,n,t),r)}function oh(){}function Pm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&$c(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&$c(n,l[1]))return l[0];if(l=t(),$r){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function ch(t,n,r){return r===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=jg(),St.lanes|=t,Wi|=t,r)}function km(t,n,r,l){return an(r,n)?r:Ba.current!==null?(t=ch(t,r,l),an(t,n)||(Ce=!0),t):(Yi&42)===0?(Ce=!0,t.memoizedState=r):(t=jg(),St.lanes|=t,Wi|=t,n)}function qm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,dh(t,!1,n,r);try{var b=c(),P=j.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=eE(b,l);ll(t,n,H,cn(t))}else ll(t,n,l,cn(t))}catch(Y){ll(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{tt.p=f,j.T=y}}function sE(){}function hh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=jm(t).queue;qm(t,c,n,ct,r===null?sE:function(){return Hm(t),r(l)})}function jm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hm(t){var n=jm(t).next.queue;ll(t,n,{},cn())}function fh(){return He(Rl)}function Gm(){return ge().memoizedState}function Qm(){return ge().memoizedState}function lE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Gi(r);var l=Qi(n,t,r);l!==null&&(hn(l,n,r),el(l,n,r)),n={cache:jc()},t.payload=n;return}n=n.return}}function uE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Fm(n,r):(r=Oc(t,n,r,l),r!==null&&(hn(r,t,l),Xm(r,n,l)))}function Ym(t,n,r){var l=cn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Fm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Vu(t,n,c,0),Jt===null&&Cu(),!1}catch{}finally{}if(r=Oc(t,n,c,l),r!==null)return hn(r,t,l),Xm(r,n,l),!0}return!1}function dh(t,n,r,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Oc(t,r,l,2),n!==null&&hn(n,t,2)}function Yu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Fm(t,n){ka=ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var Fu={readContext:He,use:ju,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Km={readContext:He,use:ju,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Om,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Lm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if($r){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if($r){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=uE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=lh(t);var n=t.queue,r=Ym.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:oh,useDeferredValue:function(t,n){var r=$e();return ch(r,t,n)},useTransition:function(){var t=lh(!1);return t=qm.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=$e();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Mt&124)!==0||pm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Om(_m.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,Gu(),ym.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Pt){var r=vi,l=_i;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=nE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:fh,useFormState:Dm,useActionState:Dm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=dh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:rh,useCacheRefresh:function(){return $e().memoizedState=lE.bind(null,St)}},Zm={readContext:He,use:ju,useCallback:Pm,useContext:He,useEffect:Mm,useImperativeHandle:zm,useInsertionEffect:xm,useLayoutEffect:Um,useMemo:Bm,useReducer:Hu,useRef:Nm,useState:function(){return Hu(Ai)},useDebugValue:oh,useDeferredValue:function(t,n){var r=ge();return km(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Hu(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:gm,useId:Gm,useHostTransitionStatus:fh,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var r=ge();return Tm(r,Yt,t,n)},useMemoCache:rh,useCacheRefresh:Qm},oE={readContext:He,use:ju,useCallback:Pm,useContext:He,useEffect:Mm,useImperativeHandle:zm,useInsertionEffect:xm,useLayoutEffect:Um,useMemo:Bm,useReducer:sh,useRef:Nm,useState:function(){return sh(Ai)},useDebugValue:oh,useDeferredValue:function(t,n){var r=ge();return Yt===null?ch(r,t,n):km(r,Yt.memoizedState,t,n)},useTransition:function(){var t=sh(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:gm,useId:Gm,useHostTransitionStatus:fh,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var r=ge();return Yt!==null?Tm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:rh,useCacheRefresh:Qm},Ha=null,ul=0;function Xu(t){var n=ul;return ul+=1,Ha===null&&(Ha=[]),lm(Ha,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jm(t){var n=t._init;return n(t._payload)}function $m(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=yi(M,C),M.index=0,M.sibling=null,M}function f(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,G){return C===null||C.tag!==6?(C=xc(z,M.mode,G),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,G){var at=z.type;return at===$?H(M,C,z.props.children,G,z.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Jm(at)===C.type)?(C=c(C,z.props),ol(C,z),C.return=M,C):(C=Nu(z.type,z.key,z.props,null,M.mode,G),ol(C,z),C.return=M,C)}function P(M,C,z,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=Uc(z,M.mode,G),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function H(M,C,z,G,at){return C===null||C.tag!==7?(C=Gr(z,M.mode,G,at),C.return=M,C):(C=c(C,z),C.return=M,C)}function Y(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=xc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case x:return z=Nu(C.type,C.key,C.props,null,M.mode,z),ol(z,C),z.return=M,z;case Q:return C=Uc(C,M.mode,z),C.return=M,C;case S:var G=C._init;return C=G(C._payload),Y(M,C,z)}if(re(C)||U(C))return C=Gr(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return Y(M,Xu(C),z);if(C.$$typeof===lt)return Y(M,Uu(M,C),z);Ku(M,C)}return null}function B(M,C,z,G){var at=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,C,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===at?b(M,C,z,G):null;case Q:return z.key===at?P(M,C,z,G):null;case S:return at=z._init,z=at(z._payload),B(M,C,z,G)}if(re(z)||U(z))return at!==null?null:H(M,C,z,G,null);if(typeof z.then=="function")return B(M,C,Xu(z),G);if(z.$$typeof===lt)return B(M,C,Uu(M,z),G);Ku(M,z)}return null}function k(M,C,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(z)||null,E(C,M,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return M=M.get(G.key===null?z:G.key)||null,b(C,M,G,at);case Q:return M=M.get(G.key===null?z:G.key)||null,P(C,M,G,at);case S:var Rt=G._init;return G=Rt(G._payload),k(M,C,z,G,at)}if(re(G)||U(G))return M=M.get(z)||null,H(C,M,G,at,null);if(typeof G.then=="function")return k(M,C,z,Xu(G),at);if(G.$$typeof===lt)return k(M,C,z,Uu(C,G),at);Ku(C,G)}return null}function yt(M,C,z,G){for(var at=null,Rt=null,ut=C,mt=C=0,Ie=null;ut!==null&&mt<z.length;mt++){ut.index>mt?(Ie=ut,ut=null):Ie=ut.sibling;var Lt=B(M,ut,z[mt],G);if(Lt===null){ut===null&&(ut=Ie);break}t&&ut&&Lt.alternate===null&&n(M,ut),C=f(Lt,C,mt),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt,ut=Ie}if(mt===z.length)return r(M,ut),Pt&&Yr(M,mt),at;if(ut===null){for(;mt<z.length;mt++)ut=Y(M,z[mt],G),ut!==null&&(C=f(ut,C,mt),Rt===null?at=ut:Rt.sibling=ut,Rt=ut);return Pt&&Yr(M,mt),at}for(ut=l(ut);mt<z.length;mt++)Ie=k(ut,M,mt,z[mt],G),Ie!==null&&(t&&Ie.alternate!==null&&ut.delete(Ie.key===null?mt:Ie.key),C=f(Ie,C,mt),Rt===null?at=Ie:Rt.sibling=Ie,Rt=Ie);return t&&ut.forEach(function(ur){return n(M,ur)}),Pt&&Yr(M,mt),at}function dt(M,C,z,G){if(z==null)throw Error(a(151));for(var at=null,Rt=null,ut=C,mt=C=0,Ie=null,Lt=z.next();ut!==null&&!Lt.done;mt++,Lt=z.next()){ut.index>mt?(Ie=ut,ut=null):Ie=ut.sibling;var ur=B(M,ut,Lt.value,G);if(ur===null){ut===null&&(ut=Ie);break}t&&ut&&ur.alternate===null&&n(M,ut),C=f(ur,C,mt),Rt===null?at=ur:Rt.sibling=ur,Rt=ur,ut=Ie}if(Lt.done)return r(M,ut),Pt&&Yr(M,mt),at;if(ut===null){for(;!Lt.done;mt++,Lt=z.next())Lt=Y(M,Lt.value,G),Lt!==null&&(C=f(Lt,C,mt),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt);return Pt&&Yr(M,mt),at}for(ut=l(ut);!Lt.done;mt++,Lt=z.next())Lt=k(ut,M,mt,Lt.value,G),Lt!==null&&(t&&Lt.alternate!==null&&ut.delete(Lt.key===null?mt:Lt.key),C=f(Lt,C,mt),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt);return t&&ut.forEach(function(c0){return n(M,c0)}),Pt&&Yr(M,mt),at}function Xt(M,C,z,G){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:t:{for(var at=z.key;C!==null;){if(C.key===at){if(at=z.type,at===$){if(C.tag===7){r(M,C.sibling),G=c(C,z.props.children),G.return=M,M=G;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Jm(at)===C.type){r(M,C.sibling),G=c(C,z.props),ol(G,z),G.return=M,M=G;break t}r(M,C);break}else n(M,C);C=C.sibling}z.type===$?(G=Gr(z.props.children,M.mode,G,z.key),G.return=M,M=G):(G=Nu(z.type,z.key,z.props,null,M.mode,G),ol(G,z),G.return=M,M=G)}return y(M);case Q:t:{for(at=z.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(M,C.sibling),G=c(C,z.children||[]),G.return=M,M=G;break t}else{r(M,C);break}else n(M,C);C=C.sibling}G=Uc(z,M.mode,G),G.return=M,M=G}return y(M);case S:return at=z._init,z=at(z._payload),Xt(M,C,z,G)}if(re(z))return yt(M,C,z,G);if(U(z)){if(at=U(z),typeof at!="function")throw Error(a(150));return z=at.call(z),dt(M,C,z,G)}if(typeof z.then=="function")return Xt(M,C,Xu(z),G);if(z.$$typeof===lt)return Xt(M,C,Uu(M,z),G);Ku(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(r(M,C.sibling),G=c(C,z),G.return=M,M=G):(r(M,C),G=xc(z,M.mode,G),G.return=M,M=G),y(M)):r(M,C)}return function(M,C,z,G){try{ul=0;var at=Xt(M,C,z,G);return Ha=null,at}catch(ut){if(ut===Ws||ut===zu)throw ut;var Rt=sn(29,ut,null,M.mode);return Rt.lanes=G,Rt.return=M,Rt}finally{}}}var Ga=$m(!0),Wm=$m(!1),An=X(null),Fn=null;function Fi(t){var n=t.alternate;Z(Ae,Ae.current&1),Z(An,t),Fn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Fn=t)}function tg(t){if(t.tag===22){if(Z(Ae,Ae.current),Z(An,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Xi()}function Xi(){Z(Ae,Ae.current),Z(An,An.current)}function Si(t){et(An),Fn===t&&(Fn=null),et(Ae)}var Ae=X(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||rf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function mh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Gi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(hn(n,t,r),el(n,t,r))}};function eg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function ng(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&gh.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ig(t){Ju(t)}function rg(t){console.error(t)}function ag(t){Ju(t)}function $u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ph(t,n,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(t,n)},r}function lg(t){return t=Gi(t),t.tag=3,t}function ug(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){sg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){sg(n,r,l),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function cE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Fn===null?kh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Qc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),jh(t,l,c)),!1;case 22:return r.flags|=65536,l===Qc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),jh(t,l,c)),!1}throw Error(a(435,r.tag))}return jh(t,l,c),kh(),!1}if(Pt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Pc&&(t=Error(a(422),{cause:l}),Ks(_n(t,r)))):(l!==Pc&&(n=Error(a(423),{cause:l}),Ks(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=ph(t.stateNode,l,c),Xc(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),pl===null?pl=[f]:pl.push(f),le!==4&&(le=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ph(r.stateNode,l,t),Xc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=lg(c),ug(c,t,r,l),Xc(r,c),!1}r=r.return}while(r!==null);return!1}var og=Error(a(461)),Ce=!1;function Le(t,n,r,l){n.child=t===null?Wm(n,null,r,l):Ga(n,t.child,r,l)}function cg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Zr(n),l=Wc(t,n,r,y,f,c),E=th(),t!==null&&!Ce?(eh(t,n,c),bi(t,n,c)):(Pt&&E&&Lc(n),n.flags|=1,Le(t,n,l,c),n.child)}function hg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Mc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,fg(t,n,f,l,c)):(t=Nu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!bh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function fg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,bh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,bi(t,n,c)}return yh(t,n,r,l,c)}function dg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return mg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?fm(n,f):Zc(),tg(n);else return n.lanes=n.childLanes=536870912,mg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Lu(n,f.cachePool),fm(n,f),Xi(),n.memoizedState=null):(t!==null&&Lu(n,null),Zc(),Xi());return Le(t,n,c,r),n.child}function mg(t,n,r,l){var c=Gc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Lu(n,null),Zc(),tg(n),t!==null&&Zs(t,n,l,!0),null}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function yh(t,n,r,l,c){return Zr(n),r=Wc(t,n,r,l,void 0,c),l=th(),t!==null&&!Ce?(eh(t,n,c),bi(t,n,c)):(Pt&&l&&Lc(n),n.flags|=1,Le(t,n,r,c),n.child)}function gg(t,n,r,l,c,f){return Zr(n),n.updateQueue=null,r=mm(n,l,r,c),dm(t),l=th(),t!==null&&!Ce?(eh(t,n,f),bi(t,n,f)):(Pt&&l&&Lc(n),n.flags|=1,Le(t,n,r,f),n.child)}function pg(t,n,r,l,c){if(Zr(n),n.stateNode===null){var f=xa,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):xa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(mh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&gh.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Wr(r,E);f.props=b;var P=f.context,H=r.contextType;y=xa,typeof H=="object"&&H!==null&&(y=He(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&ng(n,f,l,y),Hi=!1;var B=n.memoizedState;f.state=B,il(n,l,f,c),nl(),P=n.memoizedState,E||B!==P||Hi?(typeof Y=="function"&&(mh(n,r,Y,l),P=n.memoizedState),(b=Hi||eg(n,r,b,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Fc(t,n),y=n.memoizedProps,H=Wr(r,y),f.props=H,Y=n.pendingProps,B=f.context,P=r.contextType,b=xa,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&ng(n,f,l,b),Hi=!1,B=n.memoizedState,f.state=B,il(n,l,f,c),nl();var k=n.memoizedState;y!==Y||B!==k||Hi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof E=="function"&&(mh(n,r,E,l),k=n.memoizedState),(H=Hi||eg(n,r,H,l,B,k,b)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ga(n,t.child,null,c),n.child=Ga(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function yg(t,n,r,l){return Xs(),n.flags|=256,Le(t,n,r,l),n.child}var _h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(t){return{baseLanes:t,cachePool:rm()}}function Eh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function _g(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Fi(n):Xi(),Pt){var E=se,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,se=null,b=!0):b=!1}b||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return rf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=to({mode:"hidden",children:E},c),l=Gr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=vh(r),c.childLanes=Eh(t,y,r),n.memoizedState=_h,l):(Fi(n),Th(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Fi(n),n.flags&=-257,n=Ah(t,n,r)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=to({mode:"visible",children:l.children},E),c=Gr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ga(n,t.child,null,r),l=n.child,l.memoizedState=vh(r),l.childLanes=Eh(t,y,r),n.memoizedState=_h,n=c);else if(Fi(n),rf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Ks({value:l,source:null,stack:null}),n=Ah(t,n,r)}else if(Ce||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ui(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Ma(t,l),hn(y,t,l),og;E.data==="$?"||kh(),n=Ah(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=On(E.nextSibling),Je=n,Pt=!0,Fr=null,Yn=!1,t!==null&&(En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=Qr,_i=t.id,vi=t.overflow,Qr=n),n=Th(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Gr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=vh(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=rm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Eh(t,y,r),n.memoizedState=_h,l):(Fi(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Th(t,n){return n=to({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function to(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ah(t,n,r){return Ga(n,t.child,null,r),t=Th(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),kc(t.return,n,r)}function Sh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Eg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,r,n);else if(t.tag===19)vg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Zu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Sh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Sh(n,!0,r,null,f);break;case"together":Sh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Wi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function hE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ji(n,Te,t.memoizedState.cache),Xs();break;case 27:case 5:xi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_g(t,n,r):(Fi(n),t=bi(t,n,r),t!==null?t.sibling:null);Fi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Eg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,dg(t,n,r);case 24:ji(n,Te,t.memoizedState.cache)}return bi(t,n,r)}function Tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!bh(t,r)&&(n.flags&128)===0)return Ce=!1,hE(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&Jd(n,Mu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Mc(l)?(t=Wr(l,t),n.tag=1,n=pg(null,n,l,t,r)):(n.tag=0,n=yh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Tt){n.tag=11,n=cg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=hg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return yh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),pg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Fc(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ji(n,Te,l),l!==f.cache&&qc(n,[Te],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),Ks(c),n=yg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=On(t.firstChild),Je=n,Pt=!0,Fr=null,Yn=!0,r=Wm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xs(),l===c){n=bi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=Rp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=go(_t.current).createElement(r),l[_e]=n,l[fe]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Rp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&Pt&&(l=n.stateNode=Ap(n.type,n.pendingProps,_t.current),Je=n,Yn=!0,c=se,ir(n.type)?(af=c,se=On(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=se)&&(l=BE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Je=n,se=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Xr(n)),xi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Wc(t,n,iE,null,null,r),Rl._currentValue=c),Wu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=se)&&(r=kE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Je=n,se=null,t=!0):t=!1),t||Xr(n)),null;case 13:return _g(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ga(n,null,l,r):Le(t,n,l,r),n.child;case 11:return cg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ji(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Zr(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return hg(t,n,n.type,n.pendingProps,r);case 15:return fg(t,n,n.type,n.pendingProps,r);case 19:return Eg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=to(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return dg(t,n,r);case 24:return Zr(n),l=He(Te),t===null?(c=Gc(),c===null&&(c=Jt,f=jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Yc(n),ji(n,Te,c)):((t.lanes&r)!==0&&(Fc(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ji(n,Te,l)):(l=f.cache,ji(n,Te,l),l!==c.cache&&qc(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ri(t){t.flags|=4}function Ag(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ip(n)){if(n=An.current,n!==null&&((Mt&4194048)===Mt?Fn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Fn))throw tl=Qc,am;t.flags|=8192}}function eo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ds():536870912,t.lanes|=n,Xa|=n)}function cl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function fE(t,n,r){var l=n.pendingProps;switch(zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Te),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ee(n),Ag(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ee(n),Ag(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ee(n),n.flags&=-16777217),null;case 27:ri(n),r=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ht.current,Fs(n)?$d(n):(t=Ap(c,l,r),n.stateNode=t,Ri(n))}return ee(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ht.current,Fs(n))$d(n);else{switch(c=go(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=_t.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||gp(t.nodeValue,r)),t||Xr(n)}else t=go(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=tm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),eo(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Kh(n.stateNode.containerInfo),ee(n),null;case 10:return Ti(n.type),ee(n),null;case 19:if(et(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,eo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Zd(r,t),r=r.sibling;return Z(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>ro&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Zu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eo(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*fn()-c.renderingStartTime>ro&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,Z(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Si(n),Jc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&eo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function dE(t,n){switch(zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ae),null;case 4:return xn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),Jc(),t!==null&&et(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Te),null;case 25:return null;default:return null}}function Sg(t,n){switch(zc(n),n.tag){case 3:Ti(Te),xn();break;case 26:case 27:case 5:ri(n);break;case 4:xn();break;case 13:Si(n);break;case 19:et(Ae);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),Jc(),t!==null&&et(Jr);break;case 24:Ti(Te)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Ki(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hm(n,r)}catch(l){Kt(t,t.return,l)}}}function Rg(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function wg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Rh(t,n,r){try{var l=t.stateNode;xE(l,t.type,r,n),l[fe]=n}catch(c){Kt(t,t.return,c)}}function Dg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=mo));else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Dh(t,n,r),t=t.sibling;t!==null;)Dh(t,n,r),t=t.sibling}function no(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(no(t,n,r),t=t.sibling;t!==null;)no(t,n,r),t=t.sibling}function Cg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[_e]=t,n[fe]=r}catch(f){Kt(t,t.return,f)}}var wi=!1,ce=!1,Ch=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function mE(t,n){if(t=t.containerInfo,$h=To,t=kd(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,H=0,Y=t,B=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++H===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},To=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Kt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)nf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Ig(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(t,r),l&4&&hl(5,r);break;case 1:if(Zi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&bg(r),l&512&&fl(r,r.return);break;case 3:if(Zi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Cg(r);case 26:case 5:Zi(t,r),n===null&&l&4&&wg(r),l&512&&fl(r,r.return);break;case 12:Zi(t,r);break;case 13:Zi(t,r),l&4&&Mg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=SE.bind(null,r),qE(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||ce,c=wi;var f=ce;wi=l,(ce=n)&&!f?Ji(t,r,(r.subtreeFlags&8772)!==0):Zi(t,r),wi=c,ce=f}break;case 30:break;default:Zi(t,r)}}function Ng(t){var n=t.alternate;n!==null&&(t.alternate=null,Ng(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Di(t,n,r){for(r=r.child;r!==null;)Og(t,n,r),r=r.sibling}function Og(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Xn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Xn(r,n);var l=te,c=We;ir(r.type)&&(te=r.stateNode,We=!1),Di(t,n,r),Tl(r.stateNode),te=l,We=c;break;case 5:ce||Xn(r,n);case 6:if(l=te,c=We,te=null,Di(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:te!==null&&(We?(t=te,Ep(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):Ep(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Di(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:ce||Ki(2,r,n),ce||Ki(4,r,n),Di(t,n,r);break;case 1:ce||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Rg(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Di(t,n,r),ce=l;break;default:Di(t,n,r)}}function Mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Kt(n,n.return,r)}}function gE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vg),n;default:throw Error(a(435,t.tag))}}function Vh(t,n){var r=gE(t);n.forEach(function(l){var c=bE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ir(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));Og(f,y,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)xg(n,t),n=n.sibling}var Nn=null;function xg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Ki(3,t,t.return),hl(3,t),Ki(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[_e]=t,ue(f),l=f;break t;case"link":var y=Cp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Cp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else Vp(c,t.type,t.stateNode);else t.stateNode=Dp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Vp(c,t.type,t.stateNode):Dp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),r!==null&&l&4&&Rh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Rh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ch=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(_o=null,c=Nn,Nn=po(n.containerInfo),ln(n,t),Nn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(k){Kt(t,t.return,k)}Ch&&(Ch=!1,Ug(t));break;case 4:l=Nn,Nn=po(t.stateNode.containerInfo),ln(n,t),un(t),Nn=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uh=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=wi,H=ce;if(wi=P||c,ce=H||b,ln(n,t),ce=H,wi=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||wi||ce||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Kt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Kt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Vh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Dg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=wh(t);no(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=wh(t);no(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=wh(t);Dh(t,P,b);break;default:throw Error(a(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ug(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ig(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ki(4,n,n.return),ta(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Rg(n,n.return,r),ta(n);break;case 27:Tl(n.stateNode);case 26:case 5:Xn(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function Ji(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,r),hl(4,f);break;case 1:if(Ji(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)cm(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&bg(f),fl(f,f.return);break;case 27:Cg(f);case 26:case 5:Ji(c,f,r),r&&l===null&&y&4&&wg(f),fl(f,f.return);break;case 12:Ji(c,f,r);break;case 13:Ji(c,f,r),r&&y&4&&Mg(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,r),fl(f,f.return);break;case 30:break;default:Ji(c,f,r)}n=n.sibling}}function Ih(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Js(r))}function Nh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Js(t))}function Kn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lg(t,n,r,l),n=n.sibling}function Lg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Kn(t,n,r,l);break;case 3:Kn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Js(t)));break;case 12:if(c&2048){Kn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Kn(t,n,r,l);break;case 13:Kn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,r,l):dl(t,n):f._visibility&2?Kn(t,n,r,l):(f._visibility|=2,Qa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ih(y,n);break;case 24:Kn(t,n,r,l),c&2048&&Nh(n.alternate,n);break;default:Kn(t,n,r,l)}}function Qa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Qa(f,y,E,b,c):dl(f,y):(H._visibility|=2,Qa(f,y,E,b,c)),c&&P&2048&&Ih(y.alternate,y);break;case 24:Qa(f,y,E,b,c),c&&P&2048&&Nh(y.alternate,y);break;default:Qa(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Ih(l.alternate,l);break;case 24:dl(r,l),c&2048&&Nh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Ya(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 26:Ya(t),t.flags&ml&&t.memoizedState!==null&&t0(Nn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var n=Nn;Nn=po(t.stateNode.containerInfo),Ya(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Ya(t),ml=n):Ya(t));break;default:Ya(t)}}function Pg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,kg(l,t)}Pg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,io(t)):gl(t);break;default:gl(t)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,kg(l,t)}Pg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ki(8,n,n.return),io(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,io(n));break;default:io(n)}t=t.sibling}}function kg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Ki(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Js(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Ng(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var pE={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},yE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,wt=null,Mt=0,Gt=0,on=null,$i=!1,Fa=!1,Oh=!1,Ci=0,le=0,Wi=0,ea=0,Mh=0,Sn=0,Xa=0,pl=null,tn=null,xh=!1,Uh=0,ro=1/0,ao=null,tr=null,ze=0,er=null,Ka=null,Za=0,Lh=0,zh=null,qg=null,yl=0,Ph=null;function cn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(j.T!==null){var t=za;return t!==0?t:Qh()}return Li()}function jg(){Sn===0&&(Sn=(Mt&536870912)===0||Pt?ws():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),nr(t,Mt,Sn,!1)),si(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(ea|=r),le===4&&nr(t,Mt,Sn,!1)),Zn(t))}function Hg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Dr(t,n),c=l?EE(t,n):qh(t,n,!0),f=l;do{if(c===0){Fa&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!_E(r)){c=qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Ja(E,y).flags|=256),y=qh(E,y,!1),y!==2){if(Oh&&!b){E.errorRecoveryDisabledLanes|=f,ea|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ja(t,0),nr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Sn,!$i);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Uh+300-fn(),10<c)){if(nr(l,n,Sn,!$i),ma(l,0,!0)!==0)break t;l.timeoutHandle=_p(Gg.bind(null,l,r,tn,ao,xh,n,Sn,ea,Xa,$i,f,2,-0,0),c);break t}Gg(l,r,tn,ao,xh,n,Sn,ea,Xa,$i,f,0,-0,0)}}break}while(!0);Zn(t)}function Gg(t,n,r,l,c,f,y,E,b,P,H,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:WE},zg(n),Y=e0(),Y!==null)){t.cancelPendingCommit=Y(Jg.bind(null,t,n,f,r,l,c,y,E,b,H,1,B,k)),nr(t,f,y,!P);return}Jg(t,n,f,r,l,c,y,E,b)}function _E(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~Mh,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function so(){return(Ht&6)===0?(_l(0),!1):!0}function Bh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Ei=Kr=null,nh(t),Ha=null,ul=0,t=wt;for(;t!==null;)Sg(t.alternate,t),t=t.return;wt=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,LE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Bh(),Jt=t,wt=r=yi(t.current,null),Mt=n,Gt=0,on=null,$i=!1,Fa=Dr(t,n),Oh=!1,Xa=Sn=Mh=ea=Wi=le=0,tn=pl=null,xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Cu(),r}function Qg(t,n){St=null,j.H=Fu,n===Ws||n===zu?(n=um(),Gt=3):n===am?(n=um(),Gt=4):Gt=n===og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(le=1,$u(t,_n(n,t.current)))}function Yg(){var t=j.H;return j.H=Fu,t===null?Fu:t}function Fg(){var t=j.A;return j.A=pE,t}function kh(){le=4,$i||(Mt&4194048)!==Mt&&An.current!==null||(Fa=!0),(Wi&134217727)===0&&(ea&134217727)===0||Jt===null||nr(Jt,Mt,Sn,!1)}function qh(t,n,r){var l=Ht;Ht|=2;var c=Yg(),f=Fg();(Jt!==t||Mt!==n)&&(ao=null,Ja(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=on;switch(Gt){case 8:Bh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Gt;if(Gt=0,on=null,$a(t,E,b,P),r&&Fa){y=0;break t}break;default:P=Gt,Gt=0,on=null,$a(t,E,b,P)}}vE(),y=le;break}catch(H){Qg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ei=Kr=null,Ht=l,j.H=c,j.A=f,wt===null&&(Jt=null,Mt=0,Cu()),y}function vE(){for(;wt!==null;)Xg(wt)}function EE(t,n){var r=Ht;Ht|=2;var l=Yg(),c=Fg();Jt!==t||Mt!==n?(ao=null,ro=fn()+500,Ja(t,n)):Fa=Dr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=on;e:switch(Gt){case 1:Gt=0,on=null,$a(t,n,f,1);break;case 2:case 9:if(sm(f)){Gt=0,on=null,Kg(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:sm(f)?(Gt=0,on=null,Kg(n)):(Gt=0,on=null,$a(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Ip(y)){Gt=0,on=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,lo(P)):wt=null}break e}}Gt=0,on=null,$a(t,n,f,5);break;case 6:Gt=0,on=null,$a(t,n,f,6);break;case 8:Bh(),le=6;break t;default:throw Error(a(462))}}TE();break}catch(H){Qg(t,H)}while(!0);return Ei=Kr=null,j.H=l,j.A=c,Ht=r,wt!==null?0:(Jt=null,Mt=0,Cu(),le)}function TE(){for(;wt!==null&&!As();)Xg(wt)}function Xg(t){var n=Tg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?lo(t):wt=n}function Kg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=gg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=gg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:nh(n);default:Sg(r,n),n=wt=Zd(n,Ci),n=Tg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?lo(t):wt=n}function $a(t,n,r,l){Ei=Kr=null,nh(n),Ha=null,ul=0;var c=n.return;try{if(cE(t,c,n,r,Mt)){le=1,$u(t,_n(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,$u(t,_n(r,t.current)),wt=null;return}n.flags&32768?(Pt||l===1?t=!0:Fa||(Mt&536870912)!==0?t=!1:($i=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zg(n,t)):lo(n)}function lo(t){var n=t;do{if((n.flags&32768)!==0){Zg(n,$i);return}t=n.return;var r=fE(n.alternate,n,Ci);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function Zg(t,n){do{var r=dE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function Jg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do uo();while(ze!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Nc,Cs(t,r,f,y,E,b),t===Jt&&(wt=Jt=null,Mt=0),Ka=n,er=t,Za=r,Lh=f,zh=c,qg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RE(Sr,function(){return np(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{mE(t,n,r)}finally{Ht=y,tt.p=c,j.T=l}}ze=1,$g(),Wg(),tp()}}function $g(){if(ze===1){ze=0;var t=er,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{xg(n,t);var f=Wh,y=kd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Bd(E.ownerDocument.documentElement,E)){if(b!==null&&wc(E)){var P=b.start,H=b.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,dt=Math.min(b.start,yt),Xt=b.end===void 0?dt:Math.min(b.end,yt);!k.extend&&dt>Xt&&(y=Xt,Xt=dt,dt=y);var M=Pd(E,dt),C=Pd(E,Xt);if(M&&C&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==C.node||k.focusOffset!==C.offset)){var z=Y.createRange();z.setStart(M.node,M.offset),k.removeAllRanges(),dt>Xt?(k.addRange(z),k.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}To=!!$h,Wh=$h=null}finally{Ht=c,tt.p=l,j.T=r}}t.current=n,ze=2}}function Wg(){if(ze===2){ze=0;var t=er,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ig(t,n.alternate,n)}finally{Ht=c,tt.p=l,j.T=r}}ze=3}}function tp(){if(ze===4||ze===3){ze=0,iu();var t=er,n=Ka,r=Za,l=qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ka=er=null,ep(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(tr=null),ga(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(Za&3)!==0&&uo(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Ph?yl++:(yl=0,Ph=t):yl=0,_l(0)}}function ep(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Js(n)))}function uo(t){return $g(),Wg(),tp(),np()}function np(){if(ze!==5)return!1;var t=er,n=Lh;Lh=0;var r=ga(Za),l=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=zh,zh=null;var f=er,y=Za;if(ze=0,Ka=er=null,Za=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Bg(f.current),Lg(f,f.current,y,r),Ht=E,_l(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,j.T=l,ep(t,n)}}function ip(t,n,r){n=_n(r,n),n=ph(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(si(t,2),Zn(t))}function Kt(t,n,r){if(t.tag===3)ip(t,t,r);else for(;n!==null;){if(n.tag===3){ip(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=_n(r,t),r=lg(2),l=Qi(n,r,2),l!==null&&(ug(r,l,n,t),si(l,2),Zn(l));break}}n=n.return}}function jh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new yE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Oh=!0,c.add(r),t=AE.bind(null,t,n,r),n.then(t,t))}function AE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Mt&r)===r&&(le===4||le===3&&(Mt&62914560)===Mt&&300>fn()-Uh?(Ht&2)===0&&Ja(t,0):Mh|=r,Xa===Mt&&(Xa=0)),Zn(t)}function rp(t,n){n===0&&(n=Ds()),t=Ma(t,n),t!==null&&(si(t,n),Zn(t))}function SE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),rp(t,r)}function bE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),rp(t,r)}function RE(t,n){return Tr(t,n)}var oo=null,Wa=null,Hh=!1,co=!1,Gh=!1,na=0;function Zn(t){t!==Wa&&t.next===null&&(Wa===null?oo=Wa=t:Wa=Wa.next=t),co=!0,Hh||(Hh=!0,DE())}function _l(t,n){if(!Gh&&co){Gh=!0;do for(var r=!1,l=oo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,up(l,f))}else f=Mt,f=ma(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Dr(l,f)||(r=!0,up(l,f));l=l.next}while(r);Gh=!1}}function wE(){ap()}function ap(){co=Hh=!1;var t=0;na!==0&&(UE()&&(t=na),na=0);for(var n=fn(),r=null,l=oo;l!==null;){var c=l.next,f=sp(l,n);f===0?(l.next=null,r===null?oo=c:r.next=c,c===null&&(Wa=r)):(r=l,(t!==0||(f&3)!==0)&&(co=!0)),l=c}_l(t)}function sp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Mt,r=ma(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Dr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ar(l),ga(r)){case 2:case 8:r=fa;break;case 32:r=Sr;break;case 268435456:r=da;break;default:r=Sr}return l=lp.bind(null,t),r=Tr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uo()&&t.callbackNode!==r)return null;var l=Mt;return l=ma(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hg(t,l,n),sp(t,fn()),t.callbackNode!=null&&t.callbackNode===r?lp.bind(null,t):null)}function up(t,n){if(uo())return null;Hg(t,n,!0)}function DE(){zE(function(){(Ht&6)!==0?Tr(Ss,wE):ap()})}function Qh(){return na===0&&(na=ws()),na}function op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function cp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function CE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=op((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?op(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Aa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var b=y?cp(c,y):new FormData(c);hh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?cp(c,y):new FormData(c),hh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Yh=0;Yh<Ic.length;Yh++){var Fh=Ic[Yh],VE=Fh.toLowerCase(),IE=Fh[0].toUpperCase()+Fh.slice(1);In(VE,"on"+IE)}In(Hd,"onAnimationEnd"),In(Gd,"onAnimationIteration"),In(Qd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Fv,"onTransitionRun"),In(Xv,"onTransitionStart"),In(Kv,"onTransitionCancel"),In(Yd,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function hp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Ju(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Ju(H)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(fp(n,t,2,!1),r.add(l))}function Xh(t,n,r){var l=0;n&&(l|=4),fp(r,t,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[ho]){t[ho]=!0,Ns.forEach(function(r){r!=="selectionchange"&&(NE.has(r)||Xh(r,!1,t),Xh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ho]||(n[ho]=!0,Xh("selectionchange",!1,n))}}function fp(t,n,r,l){switch(Lp(n)){case 2:var c=r0;break;case 8:c=a0;break;default:c=cf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}du(function(){var P=f,H=gn(r),Y=[];t:{var B=Fd.get(t);if(B!==void 0){var k=Aa,yt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":k=Ca;break;case"focusin":yt="focus",k=Ra;break;case"focusout":yt="blur",k=Ra;break;case"beforeblur":case"afterblur":k=Ra;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Tu;break;case Hd:case Gd:case Qd:k=wa;break;case Yd:k=Su;break;case"scroll":case"scrollend":k=mu;break;case"wheel":k=Va;break;case"copy":case"cut":case"paste":k=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Hs;break;case"toggle":case"beforetoggle":k=Ru}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),M=dt?B!==null?B+"Capture":null:B;dt=[];for(var C=P,z;C!==null;){var G=C;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||M===null||(G=Ur(C,M),G!=null&&dt.push(El(C,G,z))),Xt)break;C=C.return}0<dt.length&&(B=new k(B,yt,null,r,H),Y.push({event:B,listeners:dt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==hi&&(yt=r.relatedTarget||r.fromElement)&&(li(yt)||yt[dn]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=r.relatedTarget||r.toElement,k=P,yt=yt?li(yt):null,yt!==null&&(Xt=h(yt),dt=yt.tag,yt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(dt=yn,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Hs,G="onPointerLeave",M="onPointerEnter",C="pointer"),Xt=k==null?B:zn(k),z=yt==null?B:zn(yt),B=new dt(G,C+"leave",k,r,H),B.target=Xt,B.relatedTarget=z,G=null,li(H)===P&&(dt=new dt(M,C+"enter",yt,r,H),dt.target=z,dt.relatedTarget=Xt,G=dt),Xt=G,k&&yt)e:{for(dt=k,M=yt,C=0,z=dt;z;z=ts(z))C++;for(z=0,G=M;G;G=ts(G))z++;for(;0<C-z;)dt=ts(dt),C--;for(;0<z-C;)M=ts(M),z--;for(;C--;){if(dt===M||M!==null&&dt===M.alternate)break e;dt=ts(dt),M=ts(M)}dt=null}else dt=null;k!==null&&dp(Y,B,k,dt,!1),yt!==null&&Xt!==null&&dp(Y,Xt,yt,dt,!0)}}t:{if(B=P?zn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Od;else if(Ee(B))if(Md)at=Gv;else{at=jv;var Rt=qv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ls(P.elementType)&&(at=Od):at=Hv;if(at&&(at=at(t,P))){pi(Y,at,r,H);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ki(B,"number",B.value)}switch(Rt=P?zn(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(Ia=Rt,Dc=P,Ys=null);break;case"focusout":Ys=Dc=Ia=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,qd(Y,r,H);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":qd(Y,r,H)}var ut;if(Gn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Nt?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(g&&r.locale!=="ko"&&(Nt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Nt&&(ut=Ps()):(kn=H,qi="value"in kn?kn.value:kn.textContent,Nt=!0)),Rt=fo(P,mt),0<Rt.length&&(mt=new qs(mt,t,null,r,H),Y.push({event:mt,listeners:Rt}),ut?mt.data=ut:(ut=W(r),ut!==null&&(mt.data=ut)))),(ut=d?ve(t,r):Ot(t,r))&&(mt=fo(P,"onBeforeInput"),0<mt.length&&(Rt=new qs("onBeforeInput","beforeinput",null,r,H),Y.push({event:Rt,listeners:mt}),Rt.data=ut)),CE(Y,t,P,r,H)}hp(Y,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ur(t,r),c!=null&&l.unshift(El(t,c,f)),c=Ur(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Ur(r,f),P!=null&&y.unshift(El(r,P,b))):c||(P=Ur(r,f),P!=null&&y.push(El(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var OE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(OE,`
`).replace(ME,"")}function gp(t,n){return n=mp(n),mp(t)===n}function mo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=mo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Bi(t,r,l))}}function Jh(t,n,r,l,c,f){switch(r){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}Or(t,f,E,b,P,y,c,!1),Ea(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Mr(t,l,c,f),Ea(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Dt(vl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(Ls(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Jh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function xE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,H=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||Ft(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Ft(t,n,B,k,l,Y)}}rn(t,y,E,b,P,H,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?ci(t,!!r,B,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var yt in r)if(B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Ft(t,n,yt,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)B=r[dt],r.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt)&&Ft(t,n,dt,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,k)}return;default:if(Ls(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&Jh(t,n,Xt,void 0,l,B);for(H in l)B=l[H],k=r[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||Jh(t,n,H,B,l,k);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Ft(t,n,M,null,l,B);for(Y in l)B=l[Y],k=r[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Ft(t,n,Y,B,l,k)}var $h=null,Wh=null;function go(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function UE(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(PE)}:_p;function PE(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function Ep(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Cr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nf(r),Pi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function BE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function kE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var af=null;function Tp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Ap(t,n,r){switch(n=go(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var bn=new Map,Sp=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=tt.d;tt.d={f:jE,r:HE,D:GE,C:QE,L:YE,m:FE,X:KE,S:XE,M:ZE};function jE(){var t=Vi.f(),n=so();return t||n}function HE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Hm(n):Vi.r(t)}var es=typeof document>"u"?null:document;function bp(t,n,r){var l=es;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Sp.has(c)||(Sp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function GE(t){Vi.D(t),bp("dns-prefetch",t,null)}function QE(t,n){Vi.C(t,n),bp("preconnect",t,n)}function YE(t,n,r){Vi.L(t,n,r);var l=es;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ns(t);break;case"script":f=is(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function FE(t,n){Vi.m(t,n);var r=es;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=is(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function XE(t,n,r){Vi.S(t,n,r);var l=es;if(l&&t){var c=Xe(l).hoistableStyles,f=ns(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&sf(t,r);var b=y=l.createElement("link");ue(b),Pe(b,"link",t),b._p=new Promise(function(P,H){b.onload=P,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function KE(t,n){Vi.X(t,n);var r=es;if(r&&t){var l=Xe(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&lf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ZE(t,n){Vi.M(t,n);var r=es;if(r&&t){var l=Xe(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&lf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Rp(t,n,r,l){var c=(c=_t.current)?po(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ns(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ns(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||JE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ns(t){return'href="'+de(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function wp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function JE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function is(t){return'[src="'+de(t)+'"]'}function Sl(t){return"script[async]"+t}function Dp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),yo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ns(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=wp(r),(c=bn.get(c))&&sf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,yo(f,r.precedence,t),n.instance=f;case"script":return f=is(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,ue(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),lf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,r.precedence,t));return n.instance}function yo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _o=null;function Cp(t,n,r){if(_o===null){var l=new Map,c=_o=new Map;c.set(r,l)}else c=_o,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Vp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function $E(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ip(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function WE(){}function t0(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ns(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=wp(r),(c=bn.get(c))&&sf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=vo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function e0(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&uf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function vo(){if(this.count--,this.count===0){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eo=null;function uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eo=new Map,n.forEach(n0,t),Eo=null,vo.call(t))}function n0(t,n){if(!(n.state.loading&4)){var r=Eo.get(t);if(r)var l=r.get(null);else{r=new Map,Eo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function i0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Np(t,n,r,l,c,f,y,E,b,P,H,Y){return t=new i0(t,n,r,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Yc(f),t}function Op(t){return t?(t=xa,t):xa}function Mp(t,n,r,l,c,f){c=Op(c),l.context===null?l.context=c:l.pendingContext=c,l=Gi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(hn(r,t,n),el(r,t,n))}function xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function of(t,n){xp(t,n),(t=t.alternate)&&xp(t,n)}function Up(t){if(t.tag===13){var n=Ma(t,67108864);n!==null&&hn(n,t,67108864),of(t,67108864)}}var To=!0;function r0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,cf(t,n,r,l)}finally{tt.p=f,j.T=c}}function a0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,cf(t,n,r,l)}finally{tt.p=f,j.T=c}}function cf(t,n,r,l){if(To){var c=hf(l);if(c===null)Zh(t,n,l,Ao,r),zp(t,l);else if(l0(c,t,n,r,l))l.stopPropagation();else if(zp(t,l),n&4&&-1<s0.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Zn(f),(Ht&6)===0&&(ro=fn()+500,_l(0))}}break;case 13:E=Ma(f,2),E!==null&&hn(E,f,2),so(),of(f,2)}if(f=hf(l),f===null&&Zh(t,n,l,Ao,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,r)}}function hf(t){return t=gn(t),ff(t)}var Ao=null;function ff(t){if(Ao=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ao=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mc()){case Ss:return 2;case fa:return 8;case Sr:case gc:return 32;case da:return 268435456;default:return 32}default:return 32}}var df=!1,rr=null,ar=null,sr=null,wl=new Map,Dl=new Map,lr=[],s0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Cl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Up(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function l0(t,n,r,l,c){switch(n){case"focusin":return rr=Cl(rr,t,n,r,l,c),!0;case"dragenter":return ar=Cl(ar,t,n,r,l,c),!0;case"mouseover":return sr=Cl(sr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Cl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Cl(Dl.get(f)||null,t,n,r,l,c)),!0}return!1}function Pp(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,su(t.priority,function(){if(r.tag===13){var l=cn();l=Ui(l);var c=Ma(r,l);c!==null&&hn(c,r,l),of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=hf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=Ln(r),n!==null&&Up(n),t.blockedOn=r,!1;n.shift()}return!0}function Bp(t,n,r){So(t)&&r.delete(n)}function u0(){df=!1,rr!==null&&So(rr)&&(rr=null),ar!==null&&So(ar)&&(ar=null),sr!==null&&So(sr)&&(sr=null),wl.forEach(Bp),Dl.forEach(Bp)}function bo(t,n){t.blockedOn===n&&(t.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,u0)))}var Ro=null;function kp(t){Ro!==t&&(Ro=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ro===t&&(Ro=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ff(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,hh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return bo(b,t)}rr!==null&&bo(rr,t),ar!==null&&bo(ar,t),sr!==null&&bo(sr,t),wl.forEach(n),Dl.forEach(n);for(var r=0;r<lr.length;r++){var l=lr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Pp(r),r.blockedOn===null&&lr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||kp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(ff(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),kp(r)}}}function mf(t){this._internalRoot=t}wo.prototype.render=mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Mp(r,l,t,n,null,null)},wo.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Mp(t.current,2,null,t,null,null),so(),n[dn]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var r=0;r<lr.length&&n!==0&&n<lr[r].priority;r++);lr.splice(r,0,t),r===0&&Pp(t)}};var qp=e.version;if(qp!=="19.1.1")throw Error(a(527,qp,"19.1.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var o0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{ae=Do.inject(o0),jt=Do}catch{}}return Nl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=ig,f=rg,y=ag,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Np(t,1,!1,null,null,r,l,c,f,y,E,null),t[dn]=n.current,Kh(t),new mf(n)},Nl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=ig,y=rg,E=ag,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Np(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Op(null),r=n.current,l=cn(),l=Ui(l),c=Gi(l),c.callback=null,Qi(r,c,l),r=l,n.current.lanes=r,si(n,r),Zn(n),t[dn]=n.current,Kh(t),new wo(n)},Nl.version="19.1.1",Nl}var Jp;function v0(){if(Jp)return yf.exports;Jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=_0(),yf.exports}var E0=v0();function T0({object:s,index:e,handleDeleteItem:i,handleToggle:a,handleMove:o,active:h}){const{item:m,bought:p}=s;if(!(h===2&&p===!0)&&!(h===3&&p===!1))return Ct.jsxs("div",{className:"grid grid-cols-3 items-center w-[75%] border-b border-gray-300 my-1 px-1 text-sm",children:[Ct.jsx("span",{onClick:()=>a(e),className:`${p?"text-green-300 line-through":"text-red-500"} cursor-pointer`,children:m}),Ct.jsxs("div",{className:"flex gap-8 justify-center items-center",children:[Ct.jsx("button",{onClick:()=>o(e,"up"),className:"text-lg",children:""}),Ct.jsx("button",{onClick:()=>o(e,"down"),className:"text-lg",children:""})]}),Ct.jsx("button",{onClick:()=>i(e),className:"flex justify-end items-center text-xs text-red-500 ",children:""})]})}const A0=()=>{};var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},S0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],m=s[i++],p=s[i++],v=((o&7)<<18|(h&63)<<12|(m&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],m=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|m&63)}}return e.join("")},a_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],m=o+1<s.length,p=m?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,O=(h&3)<<4|p>>4;let x=(p&15)<<2|_>>6,Q=_&63;v||(Q=64,m||(x=64)),a.push(i[A],i[O],i[x],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(r_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):S0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const O=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||_==null||O==null)throw new b0;const x=h<<2|p>>4;if(a.push(x),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),O!==64){const $=_<<6&192|O;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class b0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R0=function(s){const e=r_(s);return a_.encodeByteArray(e,!0)},Bo=function(s){return R0(s).replace(/\./g,"")},w0=function(s){try{return a_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=()=>D0().__FIREBASE_DEFAULTS__,V0=()=>{if(typeof process>"u"||typeof $p>"u")return;const s=$p.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},I0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&w0(s[1]);return e&&JSON.parse(e)},$f=()=>{try{return A0()||C0()||V0()||I0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},N0=s=>$f()?.emulatorHosts?.[s],O0=s=>{const e=N0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},s_=()=>$f()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bo(JSON.stringify(i)),Bo(JSON.stringify(m)),""].join(".")}const Ll={};function L0(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?s.emulator.push(e):s.prod.push(e);return s}function z0(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Wp=!1;function P0(s,e){if(typeof window>"u"||typeof document>"u"||!Wf(window.location.host)||Ll[s]===e||Ll[s]||Wp)return;Ll[s]=e;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",h=L0().prod.length>0;function m(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Wp=!0,m()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function O(){const x=z0(a),Q=i("text"),$=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),J=document.getElementById(rt)||document.createElement("a"),st=i("preprendIcon"),nt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const lt=x.element;p(lt),A(J,rt);const Tt=_();v(nt,st),lt.append(nt,$,J,Tt),document.body.appendChild(lt)}h?($.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k0(){const s=$f()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q0(){return!k0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j0(){try{return typeof indexedDB=="object"}catch{return!1}}function H0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=G0,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],m=h?Q0(h,a):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new ys(o,p,a)}}function Q0(s,e){return s.replace(Y0,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Y0=/\{\$([^}]+)}/g;function ko(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],m=e[o];if(ty(h)&&ty(m)){if(!ko(h,m))return!1}else if(h!==m)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function ty(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new M0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K0(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&m.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:X0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X0(s){return s===ia?void 0:s}function K0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new F0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const J0={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},$0=Ut.INFO,W0={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},tT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=W0[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u_{constructor(e){this.name=e,this._logLevel=$0,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const eT=(s,e)=>e.some(i=>s instanceof i);let ey,ny;function nT(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o_=new WeakMap,If=new WeakMap,c_=new WeakMap,Tf=new WeakMap,td=new WeakMap;function rT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{i(cr(s.result)),o()},m=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&o_.set(i,s)}).catch(()=>{}),td.set(e,s),e}function aT(s){if(If.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{i(),o()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});If.set(s,e)}let Nf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return If.get(s);if(e==="objectStoreNames")return s.objectStoreNames||c_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sT(s){Nf=s(Nf)}function lT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Af(this),e,...i);return c_.set(a,e.sort?e.sort():[e]),cr(a)}:iT().includes(s)?function(...e){return s.apply(Af(this),e),cr(o_.get(this))}:function(...e){return cr(s.apply(Af(this),e))}}function uT(s){return typeof s=="function"?lT(s):(s instanceof IDBTransaction&&aT(s),eT(s,nT())?new Proxy(s,Nf):s)}function cr(s){if(s instanceof IDBRequest)return rT(s);if(Tf.has(s))return Tf.get(s);const e=uT(s);return e!==s&&(Tf.set(s,e),td.set(e,s)),e}const Af=s=>td.get(s);function oT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const m=indexedDB.open(s,e),p=cr(m);return a&&m.addEventListener("upgradeneeded",v=>{a(cr(m.result),v.oldVersion,v.newVersion,cr(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const cT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],Sf=new Map;function iy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=hT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||cT.includes(i)))return;const h=async function(m,...p){const v=this.transaction(m,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Sf.set(e,h),h}sT(s=>({...s,get:(e,i,a)=>iy(e,i)||s.get(e,i,a),has:(e,i)=>!!iy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function dT(s){return s.getComponent()?.type==="VERSION"}const Of="@firebase/app",ry="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new u_("@firebase/app"),mT="@firebase/app-compat",gT="@firebase/analytics-compat",pT="@firebase/analytics",yT="@firebase/app-check-compat",_T="@firebase/app-check",vT="@firebase/auth",ET="@firebase/auth-compat",TT="@firebase/database",AT="@firebase/data-connect",ST="@firebase/database-compat",bT="@firebase/functions",RT="@firebase/functions-compat",wT="@firebase/installations",DT="@firebase/installations-compat",CT="@firebase/messaging",VT="@firebase/messaging-compat",IT="@firebase/performance",NT="@firebase/performance-compat",OT="@firebase/remote-config",MT="@firebase/remote-config-compat",xT="@firebase/storage",UT="@firebase/storage-compat",LT="@firebase/firestore",zT="@firebase/ai",PT="@firebase/firestore-compat",BT="firebase",kT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",qT={[Of]:"fire-core",[mT]:"fire-core-compat",[pT]:"fire-analytics",[gT]:"fire-analytics-compat",[_T]:"fire-app-check",[yT]:"fire-app-check-compat",[vT]:"fire-auth",[ET]:"fire-auth-compat",[TT]:"fire-rtdb",[AT]:"fire-data-connect",[ST]:"fire-rtdb-compat",[bT]:"fire-fn",[RT]:"fire-fn-compat",[wT]:"fire-iid",[DT]:"fire-iid-compat",[CT]:"fire-fcm",[VT]:"fire-fcm-compat",[IT]:"fire-perf",[NT]:"fire-perf-compat",[OT]:"fire-rc",[MT]:"fire-rc-compat",[xT]:"fire-gcs",[UT]:"fire-gcs-compat",[LT]:"fire-fst",[PT]:"fire-fst-compat",[zT]:"fire-vertex","fire-js":"fire-js",[BT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Map,jT=new Map,xf=new Map;function ay(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ho(s){const e=s.name;if(xf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,s);for(const i of jo.values())ay(i,s);for(const i of jT.values())ay(i,s);return!0}function HT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function GT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new l_("app","Firebase",QT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=kT;function h_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Mf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=s_()),!i)throw hr.create("no-options");const h=jo.get(o);if(h){if(ko(i,h.options)&&ko(a,h.config))return h;throw hr.create("duplicate-app",{appName:o})}const m=new Z0(o);for(const v of xf.values())m.addComponent(v);const p=new YT(i,a,m);return jo.set(o,p),p}function XT(s=Mf){const e=jo.get(s);if(!e&&s===Mf&&s_())return h_();if(!e)throw hr.create("no-app",{appName:s});return e}function os(s,e,i){let a=qT[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const m=[`Unable to register library "${a}" with version "${e}":`];o&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(m.join(" "));return}Ho(new jl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebase-heartbeat-database",ZT=1,Hl="firebase-heartbeat-store";let bf=null;function f_(){return bf||(bf=oT(KT,ZT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),bf}async function JT(s){try{const i=(await f_()).transaction(Hl),a=await i.objectStore(Hl).get(d_(s));return await i.done,a}catch(e){if(e instanceof ys)Ni.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(i.message)}}}async function sy(s,e){try{const a=(await f_()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,d_(s)),await a.done}catch(i){if(i instanceof ys)Ni.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});Ni.warn(a.message)}}}function d_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1024,WT=30;class t1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WT){const o=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ly(),{heartbeatsToSend:i,unsentEntries:a}=e1(this._heartbeatsCache.heartbeats),o=Bo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ni.warn(e),""}}}function ly(){return new Date().toISOString().substring(0,10)}function e1(s,e=$T){const i=[];let a=s.slice();for(const o of s){const h=i.find(m=>m.agent===o.agent);if(h){if(h.dates.push(o.date),uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),uy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class n1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j0()?H0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return sy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return sy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function uy(s){return Bo(JSON.stringify({version:2,heartbeats:s})).length}function i1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(s){Ho(new jl("platform-logger",e=>new fT(e),"PRIVATE")),Ho(new jl("heartbeat",e=>new t1(e),"PRIVATE")),os(Of,ry,s),os(Of,ry,"esm2020"),os("fire-js","")}r1("");var a1="firebase",s1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(a1,s1,"app");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,m_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,I,U){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[I].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)V[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;16>I;++I)V[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],I=N.g[2];var U=N.g[3],R=S+(U^w&(I^U))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+V[2]+606105819&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+V[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+V[6]+2821735955&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+V[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+V[10]+4294925233&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+V[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(U^w&(I^U))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(I^S&(w^I))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=I+(w^U&(S^w))+V[14]+2792965006&4294967295,I=U+(R<<17&4294967295|R>>>15),R=w+(S^I&(U^S))+V[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^U&(w^I))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+V[11]+643717713&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+V[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+V[15]+3634488961&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+V[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+V[3]+4107603335&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+V[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^U&(w^I))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^I&(S^w))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(U^S))+V[7]+1735328473&4294967295,I=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(I^U))+V[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^U)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+V[11]+1839030562&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+V[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+V[7]+4139469664&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+V[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+V[3]+3572445317&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+V[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^U)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^I)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=I+(U^S^w)+V[15]+530742520&4294967295,I=U+(R<<16&4294967295|R>>>16),R=w+(I^U^S)+V[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~U))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+V[14]+2878612391&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+V[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+V[10]+4293915773&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+V[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+V[6]+2734768916&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+V[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~U))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~I))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=I+(S^(U|~w))+V[2]+718787259&4294967295,I=U+(R<<15&4294967295|R>>>17),R=w+(U^(I|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,I=this.h,U=0;U<S;){if(I==0)for(;U<=w;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[I++]=N.charCodeAt(U++),I==this.blockSize){o(this,V),I=0;break}}else for(;U<S;)if(V[I++]=N[U++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function h(N,S){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function m(N,S){this.h=S;for(var w=[],V=!0,I=N.length-1;0<=I;I--){var U=N[I]|0;V&&U==S||(w[I]=U,V=!1)}this.g=w}var p={};function v(N){return-128<=N&&128>N?h(N,function(S){return new m([S|0],0>S?-1:0)}):new m([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return O;if(0>N)return J(_(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new m(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=O,I=0;I<N.length;I+=8){var U=Math.min(8,N.length-I),R=parseInt(N.substring(I,I+U),S);8>U?(U=_(Math.pow(S,U)),V=V.j(U).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var O=v(0),x=v(1),Q=v(16777216);s=m.prototype,s.m=function(){if(rt(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(rt(this))return"-"+J(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,V="";;){var I=Tt(w,S).g;w=st(w,I.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=I,$(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function rt(N){return N.h==-1}s.l=function(N){return N=st(this,N),rt(N)?-1:$(N)?0:1};function J(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new m(w,~N.h).add(x)}s.abs=function(){return rt(this)?J(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,I=0;I<=S;I++){var U=V+(this.i(I)&65535)+(N.i(I)&65535),R=(U>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);V=R>>>16,U&=65535,R&=65535,w[I]=R<<16|U}return new m(w,w[w.length-1]&-2147483648?-1:0)};function st(N,S){return N.add(J(S))}s.j=function(N){if($(this)||$(N))return O;if(rt(this))return rt(N)?J(this).j(J(N)):J(J(this).j(N));if(rt(N))return J(this.j(J(N)));if(0>this.l(Q)&&0>N.l(Q))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<N.g.length;I++){var U=this.i(V)>>>16,R=this.i(V)&65535,Me=N.i(I)>>>16,re=N.i(I)&65535;w[2*V+2*I]+=R*re,nt(w,2*V+2*I),w[2*V+2*I+1]+=U*re,nt(w,2*V+2*I+1),w[2*V+2*I+1]+=R*Me,nt(w,2*V+2*I+1),w[2*V+2*I+2]+=U*Me,nt(w,2*V+2*I+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function nt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function lt(N,S){this.g=N,this.h=S}function Tt(N,S){if($(S))throw Error("division by zero");if($(N))return new lt(O,O);if(rt(N))return S=Tt(J(N),S),new lt(J(S.g),J(S.h));if(rt(S))return S=Tt(N,J(S)),new lt(J(S.g),S.h);if(30<N.g.length){if(rt(N)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,V=S;0>=V.l(N);)w=pt(w),V=pt(V);var I=Bt(w,1),U=Bt(V,1);for(V=Bt(V,2),w=Bt(w,2);!$(V);){var R=U.add(V);0>=R.l(N)&&(I=I.add(w),U=R),V=Bt(V,1),w=Bt(w,1)}return S=st(N,I.j(S)),new lt(I,S)}for(I=O;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=_(w),R=U.j(S);rt(R)||0<R.l(N);)w-=V,U=_(w),R=U.j(S);$(U)&&(U=x),I=I.add(U),N=st(N,R)}return new lt(I,N)}s.A=function(N){return Tt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new m(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new m(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new m(w,this.h^N.h)};function pt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new m(w,N.h)}function Bt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,I=[],U=0;U<V;U++)I[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new m(I,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,m_=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,fr=m}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g_,Ol,p_,Mo,Uf,y_,__,v_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Co=="object"&&Co];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,d){if(d)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in g))break t;g=g[L]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function h(u,d){u instanceof String&&(u+="");var g=0,T=!1,L={next:function(){if(!T&&g<u.length){var q=g++;return{value:d(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},p=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function O(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(d,L)}}return function(){return u.apply(d,arguments)}}function x(u,d,g){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,x.apply(null,arguments)}function Q(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return d.prototype[L].apply(T,W)}}function rt(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function J(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let W=0;W<q;W++)u[L+W]=T[W]}else u.push(T)}}class st{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function nt(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Tt(u){return Tt[" "](u),u}Tt[" "]=function(){};var pt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Bt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function N(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)u[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function I(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function U(u){p.setTimeout(()=>{throw u},0)}function R(){var u=zt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Me{constructor(){this.h=this.g=null}add(d,g){const T=re.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new st(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ct=!1,zt=new Me,D=()=>{const u=p.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){U(g)}var d=re;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}ct=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,d),p.removeEventListener("test",g,d)}catch{}return u})();function bt(u,d){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(pt){t:{try{Tt(d.nodeName);var L=!0;break t}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}$(bt,Z);var _t={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,d,g,T,L){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,d,g,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Tr(u,d,T,L);return-1<W?(d=u[W],g||(d.fa=!1)):(d=new xn(d,this.src,q,!!T,L),d.fa=g,u.push(d)),d};function Er(u,d){var g=d.type;if(g in u.g){var T=u.g[g],L=Array.prototype.indexOf.call(T,d,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(xi(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Tr(u,d,g,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==T)return L}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),As={};function iu(u,d,g,T,L){if(Array.isArray(d)){for(var q=0;q<d.length;q++)iu(u,d[q],g,T,L);return null}return g=ru(g),u&&u[Re]?u.K(d,g,_(T)?!!T.capture:!1,L):fn(u,d,g,!1,T,L)}function fn(u,d,g,T,L,q){if(!d)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,Nt=da(u);if(Nt||(u[Ar]=Nt=new ri(u)),g=Nt.add(d,g,T,W,q),g.proxy)return g;if(T=mc(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ht||(L=W),L===void 0&&(L=!1),u.addEventListener(d.toString(),T,L);else if(u.attachEvent)u.attachEvent(Sr(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function mc(){function u(g){return d.call(u.src,u.listener,g)}const d=gc;return u}function Ss(u,d,g,T,L){if(Array.isArray(d))for(var q=0;q<d.length;q++)Ss(u,d[q],g,T,L);else T=_(T)?!!T.capture:!!T,g=ru(g),u&&u[Re]?(u=u.i,d=String(d).toString(),d in u.g&&(q=u.g[d],g=Tr(q,g,T,L),-1<g&&(xi(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete u.g[d],u.h--)))):u&&(u=da(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Tr(d,g,T,L)),(g=-1<u?d[u]:null)&&fa(g))}function fa(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Re])Er(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(Sr(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=da(d))?(Er(g,u),g.h==0&&(g.src=null,d[Ar]=null)):xi(u)}}}function Sr(u){return u in As?As[u]:As[u]="on"+u}function gc(u,d){if(u.da)u=!0;else{d=new bt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&fa(u),u=g.call(T,d)}return u}function da(u){return u=u[Ar],u instanceof ri?u:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(u){return typeof u=="function"?u:(u[bs]||(u[bs]=function(d){return u.handleEvent(d)}),u[bs])}function ae(){et.call(this),this.i=new ri(this),this.M=this,this.F=null}$(ae,et),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(u,d,g,T){Ss(this,u,d,g,T)};function jt(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new Z(d,u);else if(d instanceof Z)d.target=d.target||u;else{var L=d;d=new Z(T,u),V(d,L)}if(L=!0,g)for(var q=g.length-1;0<=q;q--){var W=d.g=g[q];L=nn(W,T,!0,d)&&L}if(W=d.g=u,L=nn(W,T,!0,d)&&L,L=nn(W,T,!1,d)&&L,g)for(q=0;q<g.length;q++)W=d.g=g[q],L=nn(W,T,!1,d)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)xi(g[T]);delete u.g[d],u.h--}}this.F=null},ae.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ae.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function nn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,q=0;q<d.length;++q){var W=d[q];if(W&&!W.da&&W.capture==g){var Nt=W.listener,ve=W.ha||W.src;W.fa&&Er(u.i,W),L=Nt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(u,d,g){if(typeof u=="function")g&&(u=x(u,g));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:p.setTimeout(u,d||0)}function au(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class pc extends et{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(u){et.call(this),this.h=u,this.g={}}$(br,et);var Rr=[];function wr(u){Bt(u.g,function(d,g){this.g.hasOwnProperty(g)&&fa(d)},u),u.g={}}br.prototype.N=function(){br.aa.N.call(this),wr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,ma=p.JSON.parse,Dr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(u){return u.h||(u.h=u.i())}function Ds(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){Z.call(this,"d")}$(si,Z);function Cs(){Z.call(this,"c")}$(Cs,Z);var Un={},Vs=null;function Ui(){return Vs=Vs||new ae}Un.La="serverreachability";function ga(u){Z.call(this,Un.La,u)}$(ga,Z);function Li(u){const d=Ui();jt(d,new ga(d))}Un.STAT_EVENT="statevent";function su(u,d){Z.call(this,Un.STAT_EVENT,u),this.stat=d}$(su,Z);function Wt(u){const d=Ui();jt(d,new su(d,u))}Un.Ma="timingevent";function _e(u,d){Z.call(this,Un.Ma,u),this.size=d}$(_e,Z);function fe(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},d)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Is(u,d,g,T,L,q){u.info(function(){if(u.g)if(q)for(var W="",Nt=q.split("&"),ve=0;ve<Nt.length;ve++){var Ot=Nt[ve].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var Ee=De.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(De+"="+Ot+"&"):W+(De+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+d+`
`+g+`
`+W})}function yc(u,d,g,T,L,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+d+`
`+g+`
`+q+" "+W})}function zi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Cr(u,g)+(T?" "+T:"")})}function lu(u,d){u.info(function(){return"TIMEOUT: "+d})}dn.prototype.info=function(){};function Cr(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Dn(g)}catch{return d}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}$(zn,Rs),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Xe(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ns={},pa={};function Cn(u,d,g){u.L=1,u.v=Mr(rn(d)),u.m=g,u.P=!0,ui(u,null)}function ui(u,d){u.F=Date.now(),Vr(u),u.A=rn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),zs(g.i,"t",T),u.C=0,g=u.j.J,u.h=new ue,u.g=Su(u.j,g?d:null,!u.m),0<u.O&&(u.M=new pc(x(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Rr[0]=L.toString()),L=Rr);for(var q=0;q<L.length;q++){var W=iu(g,L[q],T||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Li(),Is(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const d=this.M;d&&yn(u)==3?d.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=yn(this.g);var d=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ee!=4||d==7||(d==8||0>=pi?Li(3):Li(2)),Bi(this);var g=this.g.Z();this.X=g;e:if(uu(this)){var T=gu(this.g);u="";var L=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Pn(this);var W="";break e}this.h.i=new p.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(q&&d==L-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,yc(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Nt)){var Ot=Nt;break e}}Ot=null}if(g=Ot)zi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,g);else{this.o=!1,this.s=3,Wt(12),xe(this),Pn(this);break t}}if(this.P){g=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=ou(this,W),Ue==pa){Ee==4&&(this.s=4,Wt(14),g=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ns){this.s=4,Wt(15),zi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else zi(this.i,this.l,Ue,null),Ir(this,Ue);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)zi(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),Pn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),qr(De),De.M=!0,Wt(11))}}else zi(this.i,this.l,W,null),Ir(this,W);Ee==4&&xe(this),this.o&&!this.J&&(Ee==4?Eu(this.j,this):(this.o=!1,Vr(this)))}else Ac(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),xe(this),Pn(this)}}}catch{}finally{}};function uu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ou(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?pa:(g=Number(d.substring(g,T)),isNaN(g)?Ns:(T+=1,T+g>d.length?pa:(d=d.slice(T,T+g),u.C=T+g,d)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function Vr(u){u.S=Date.now()+u.I,cu(u,u.I)}function cu(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(x(u.ba,u),d)}function Bi(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lu(this.i,this.A),this.L!=2&&(Li(),Wt(17)),xe(this),this.s=2,Pn(this)):cu(this,this.S-u)};function Pn(u){u.j.G==0||u.J||Eu(u.j,u)}function xe(u){Bi(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,wr(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Ir(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Os(g.h,u))){if(!u.K&&Os(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Ca(g),wa(g);else break t;js(g),Wt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(x(g.Za,g),6e3));if(1>=_a(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gi(g,11)}else if((u.K||g.g==u)&&Ca(g),!nt(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Ot=L[d];if(g.T=Ot[0],Ot=Ot[1],g.G==2)if(Ot[0]=="c"){g.K=Ot[1],g.ia=Ot[2];const De=Ot[3];De!=null&&(g.la=De,g.j.info("VER="+g.la));const Ee=Ot[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const pi=Ot[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ue=u.g;if(Ue){const Qn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var q=T.h;q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(va(q,q.h),q.h=null))}if(T.D){const Gs=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Qt(T.I,T.D,Gs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=u;if(T.qa=Au(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Nt=W,ve=T.L;ve&&(Nt.I=ve),Nt.B&&(Bi(Nt),Vr(Nt)),T.g=W}else _u(T);0<g.i.length&&Da(g)}else Ot[0]!="stop"&&Ot[0]!="close"||gi(g,7);else g.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?gi(g,7):ks(g):Ot[0]!="noop"&&g.l&&g.l.ta(Ot),g.v=0)}}Li(4)}catch{}}var hu=class{constructor(u,d){this.g=u,this.map=d}};function oi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _a(u){return u.h?1:u.g?u.g.size:0}function Os(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function va(u,d){u.g?u.g.add(d):u.h=d}function Ke(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}oi.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ms(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return rt(u.i)}function _c(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function Ea(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function xs(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=Ea(u),T=_c(u),L=T.length,q=0;q<L;q++)d.call(void 0,T[q],g&&g[q],u)}var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vc(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),L=null;if(0<=T){var q=u[g].substring(0,T);L=u[g].substring(T+1)}else q=u[g];d(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Or(this,u.j),this.o=u.o,this.g=u.g,ki(this,u.s),this.l=u.l;var d=u.i,g=new hi;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),ci(this,g),this.m=u.m}else u&&(d=String(u).match(Nr))?(this.h=!1,Or(this,d[1]||"",!0),this.o=mn(d[2]||""),this.g=mn(d[3]||"",!0),ki(this,d[4]),this.l=mn(d[5]||"",!0),ci(this,d[6]||"",!0),this.m=mn(d[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var u=[],d=this.j;d&&u.push(xr(d,Us,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(xr(d,Us,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(xr(g,g.charAt(0)=="/"?Ec:Ls,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",xr(g,Ta)),u.join("")};function rn(u){return new de(u)}function Or(u,d,g){u.j=g?mn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function ki(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ci(u,d,g){d instanceof hi?(u.i=d,du(u.i,u.h)):(g||(d=xr(d,Tc)),u.i=new hi(d,u.h))}function Qt(u,d,g){u.i.set(d,g)}function Mr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xr(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,fu),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Ls=/[#\?:]/g,Ec=/[#\?]/g,Tc=/[#\?@]/g,Ta=/#/g;function hi(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&vc(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=hi.prototype,s.add=function(u,d){gn(this),this.i=null,u=Bn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function fi(u,d){gn(u),d=Bn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function di(u,d){return gn(u),d=Bn(u,d),u.g.has(d)}s.forEach=function(u,d){gn(this),this.g.forEach(function(g,T){g.forEach(function(L){u.call(d,L,T,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const L=u[T];for(let q=0;q<L.length;q++)g.push(d[T])}return g},s.V=function(u){gn(this);let d=[];if(typeof u=="string")di(this,u)&&(d=d.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},s.set=function(u,d){return gn(this),this.i=null,u=Bn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},s.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function zs(u,d,g){fi(u,d),0<g.length&&(u.i=null,u.g.set(Bn(u,d),rt(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function du(u,d){d&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(fi(this,T),zs(this,L,g))},u)),u.j=d}function Ur(u,d){const g=new dn;if(p.Image){const T=new Image;T.onload=Q(pn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=Q(pn,g,"TestLoadImage: error",!1,d,T),T.onabort=Q(pn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=Q(pn,g,"TestLoadImage: timeout",!1,d,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Vn(u,d){const g=new dn,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?pn(g,"TestPingServer: ok",!0,d):pn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),pn(g,"TestPingServer: error",!1,d)})}function pn(u,d,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Lr(){this.g=new Dr}function kn(u,d,g){const T=g||"";try{xs(u,function(L,q){let W=L;_(L)&&(W=Dn(L)),d.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw d.push(T+"type="+encodeURIComponent("_badmap")),L}}function qi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(qi,Rs),qi.prototype.g=function(){return new mi(this.l,this.j)},qi.prototype.i=(function(u){return function(){return u}})({});function mi(u,d){ae.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(mi,ae),s=mi.prototype,s.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||p).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?qn(this):jn(this),this.readyState==3&&Ps(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},s.Qa=function(u){this.g&&(this.response=u,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}s.setRequestHeader=function(u,d){this.u.append(u,d)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bs(u){let d="";return Bt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function we(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Bs(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qt(u,d,g))}function kt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,ae);var Aa=/^https?$/i,zr=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?ws(this.o):ws(Ln),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(q){mu(this,q);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(zr,d,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of g)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){mu(this,q)}};function mu(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Sa(u),Hn(u)}function Sa(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},s.bb=function(){ba(this)};function ba(u){if(u.h&&typeof m<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)je(u.Ea,0,u);else if(jt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=W===0){var L=String(u.D).match(Nr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Aa.test(L?L.toLowerCase():"")}g=T}if(g)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Sa(u)}}finally{Hn(u)}}}}function Hn(u,d){if(u.g){Pr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||jt(u,"ready");try{g.onreadystatechange=T}catch{}}}function Pr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),ma(d)}};function gu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(u){const d={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(nt(u[T]))continue;var g=I(u[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[L]||[];d[L]=q,q.push(g)}N(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Ra(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,u),this.cb=Br("retryDelaySeedMs",1e4,u),this.Wa=Br("forwardChannelMaxRetries",2,u),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(u&&u.concurrentRequestLimit),this.Da=new Lr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ra.prototype,s.la=8,s.G=1,s.connect=function(u,d,g,T){Wt(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Au(this,null,this.W),Da(this)};function ks(u){if(pu(u),u.G==3){var d=u.U++,g=rn(u.I);if(Qt(g,"SID",u.K),Qt(g,"RID",d),Qt(g,"TYPE","terminate"),kr(u,g),d=new Xe(u,u.j,d),d.L=2,d.v=Mr(rn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=d.v,g=!0),g||(d.g=Su(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Vr(d)}Tu(u)}function wa(u){u.g&&(qr(u),u.g.cancel(),u.g=null)}function pu(u){wa(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ca(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Da(u){if(!ya(u.h)&&!u.s){u.s=!0;var d=u.Ga;tt||D(),ct||(tt(),ct=!0),zt.add(d,u),u.B=0}}function Sc(u,d){return _a(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(x(u.Ga,u,d),Hs(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=yu(this,L,d),g=rn(this.I),Qt(g,"RID",u),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),kr(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(Bs(q)))+"&"+d:this.m&&we(g,this.m,q)),va(this.h,L),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",d),Qt(g,"SID","null"),L.T=!0,Cn(L,g,null)):Cn(L,g,d),this.G=2}}else this.G==3&&(u?qs(this,u):this.i.length==0||ya(this.h)||qs(this))};function qs(u,d){var g;d?g=d.l:g=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",g),Qt(T,"AID",u.T),kr(u,T),u.m&&u.o&&we(T,u.m,u.o),g=new Xe(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=yu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,g),Cn(g,T,d)}function kr(u,d){u.H&&Bt(u.H,function(g,T){Qt(d,T,g)}),u.l&&xs({},function(g,T){Qt(d,T,g)})}function yu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?x(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const W=["count="+g];q==-1?0<g?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Nt=!0;for(let ve=0;ve<g;ve++){let Ot=L[ve].g;const De=L[ve].map;if(Ot-=q,0>Ot)q=Math.max(0,L[ve].g-100),Nt=!1;else try{kn(De,W,"req"+Ot+"_")}catch{T&&T(De)}}if(Nt){T=W.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function _u(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;tt||D(),ct||(tt(),ct=!0),zt.add(d,u),u.v=0}}function js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(x(u.Fa,u),Hs(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(x(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),wa(this),vu(this))};function qr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function vu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=rn(u.qa);Qt(d,"RID","rpc"),Qt(d,"SID",u.K),Qt(d,"AID",u.T),Qt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(d,"TO",u.ja),Qt(d,"TYPE","xmlhttp"),kr(u,d),u.m&&u.o&&we(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Mr(rn(d)),g.m=null,g.P=!0,ui(g,u)}s.Za=function(){this.C!=null&&(this.C=null,wa(this),js(this),Wt(19))};function Ca(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Eu(u,d){var g=null;if(u.g==d){Ca(u),qr(u),u.g=null;var T=2}else if(Os(u.h,d))g=d.D,Ke(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=u.B;T=Ui(),jt(T,new _e(T,g)),Da(u)}else _u(u);else if(L=d.s,L==3||L==0&&0<d.X||!(T==1&&Sc(u,d)||T==2&&js(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Hs(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function gi(u,d){if(u.j.info("Error code "+d),d==2){var g=x(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Or(T,"https"),Mr(T),L?Ur(T.toString(),g):Vn(T.toString(),g)}else Wt(2);u.G=0,u.l&&u.l.sa(d),Tu(u),pu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Tu(u){if(u.G=0,u.ka=[],u.l){const d=Ms(u.h);(d.length!=0||u.i.length!=0)&&(J(u.ka,d),J(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Au(u,d,g){var T=g instanceof de?rn(g):new de(g);if(T.g!="")d&&(T.g=d+"."+T.g),ki(T,T.s);else{var L=p.location;T=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);T&&Or(q,T),d&&(q.g=d),L&&ki(q,L),g&&(q.l=g),T=q}return g=u.D,d=u.ya,g&&d&&Qt(T,g,d),Qt(T,"VER",u.la),kr(u,T),T}function Su(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new kt(new qi({eb:g})):new kt(u.pa),d.Ha(u.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Va(){}Va.prototype.g=function(u,d){return new Ze(u,d)};function Ze(u,d){ae.call(this),this.g=new Ra(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!nt(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!nt(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Gn(this)}$(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){ks(this.g)},Ze.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Dn(u),u=g);d.i.push(new hu(d.Ya++,u)),d.G==3&&Da(d)},Ze.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Ze.aa.N.call(this)};function Ru(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}$(Ru,si);function wu(){Cs.call(this),this.status=1}$(wu,Cs);function Gn(u){this.g=u}$(Gn,bu),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new Ru(u))},Gn.prototype.sa=function(u){jt(this.g,new wu)},Gn.prototype.ra=function(){jt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,v_=function(){return new Va},__=function(){return Ui()},y_=Un,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Mo=Pi,li.COMPLETE="complete",p_=li,Ds.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Ol=Ds,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,g_=kt}).apply(typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore",hy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new u_("@firebase/firestore");function as(){return sa.logLevel}function it(s,...e){if(sa.logLevel<=Ut.DEBUG){const i=e.map(ed);sa.debug(`Firestore (${_s}): ${s}`,...i)}}function Oi(s,...e){if(sa.logLevel<=Ut.ERROR){const i=e.map(ed);sa.error(`Firestore (${_s}): ${s}`,...i)}}function hs(s,...e){if(sa.logLevel<=Ut.WARN){const i=e.map(ed);sa.warn(`Firestore (${_s}): ${s}`,...i)}}function ed(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,E_(s,a,i)}function E_(s,e,i){let a=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Oi(a),new Error(a)}function qt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||E_(e,o,a)}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class u1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class o1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new dr)}}),0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new T_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class c1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new c1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,GT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new fy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=d1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Vt(s,e){return s<e?-1:s>e?1:0}function Lf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return Rf(o)===Rf(h)?Vt(o,h):Rf(o)?1:-1}return Vt(s.length,e.length)}const m1=55296,g1=57343;function Rf(s){const e=s.charCodeAt(0);return e>=m1&&e<=g1}function fs(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&gt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),o=Jn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):Lf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ne extends Jn{construct(e,i,a){return new ne(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ot(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const p1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Jn{construct(e,i,a){return new ke(e,i,a)}static isValidIdentifier(e){return p1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dy}static keyField(){return new ke([dy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ot(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(a+=p,o++):(h(),o++)}if(h(),m)throw new ot(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ne.fromString(e))}static fromName(e){return new ft(ne.fromString(e).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s,e,i){if(!i)throw new ot(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function _1(s,e,i,a){if(e===!0&&a===!0)throw new ot(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function my(s){if(!ft.isDocumentKey(s))throw new ot(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function A_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function id(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Gl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ot(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=id(s);throw new ot(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(s,e){const i={typeString:s};return e&&(i.value=e),i}function $l(s,e){if(!A_(s))throw new ot(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const m=s[a];if(o&&typeof m!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&m!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ot(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-62135596800,py=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*py);return new $t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<gy)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/py}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:ye("string",$t._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new $t(0,0))}static max(){return new vt(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function v1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new $t(i+1,0):new $t(i,a));return new mr(o,ft.empty(),e)}function E1(s){return new mr(s.readTime,s.key,Ql)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(vt.min(),ft.empty(),Ql)}static max(){return new mr(vt.max(),ft.empty(),Ql)}}function T1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==A1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):F.reject(i)}static resolve(e){return new F(((i,a)=>{i(e)}))}static reject(e){return new F(((i,a)=>{a(e)}))}static waitFor(e){return new F(((i,a)=>{let o=0,h=0,m=!1;e.forEach((p=>{++o,p.next((()=>{++h,m&&h===o&&i()}),(v=>a(v)))})),m=!0,h===o&&i()}))}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next((o=>o?F.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new F(((a,o)=>{const h=e.length,m=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{m[_]=A,++p,p===h&&a(m)}),(A=>o(A)))}}))}static doWhile(e,i){return new F(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function b1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Es(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function ic(s){return s==null}function Go(s){return s===0&&1/s==-1/0}function R1(s){return typeof s=="number"&&Number.isInteger(s)&&!Go(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="";function w1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=yy(e)),e=D1(s.get(i),e);return yy(e)}function D1(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case S_:i+="";break;default:i+=h}}return i}function yy(s){return s+S_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ua(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function b_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Be(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(e){return new vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new be(ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new R_("Invalid base64 string: "+h):h}})(e);return new qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h})(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const C1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=C1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="server_timestamp",D_="__type__",C_="__previous_value__",V_="__local_write_time__";function ad(s){return(s?.mapValue?.fields||{})[D_]?.stringValue===w_}function rc(s){const e=s.mapValue.fields[C_];return ad(e)?rc(e):e}function Yl(s){const e=gr(s.mapValue.fields[V_].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i,a,o,h,m,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qo="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||Qo}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Qo}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__type__",I1="__max__",Io={mapValue:{}},N_="__vector__",Yo="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ad(s)?4:O1(s)?9007199254740991:N1(s)?10:11:gt(28295,{value:s})}function ni(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=gr(o.timestampValue),p=gr(h.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return pr(o.bytesValue).isEqual(pr(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=he(o.doubleValue),p=he(h.doubleValue);return m===p?Go(m)===Go(p):isNaN(m)&&isNaN(p)}return!1})(s,e);case 9:return fs(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(o,h){const m=o.mapValue.fields||{},p=h.mapValue.fields||{};if(_y(m)!==_y(p))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(p[v]===void 0||!ni(m[v],p[v])))return!1;return!0})(s,e);default:return gt(52216,{left:s})}}function Xl(s,e){return(s.values||[]).find((i=>ni(i,e)))!==void 0}function ds(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,m){const p=he(h.integerValue||h.doubleValue),v=he(m.integerValue||m.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return Ey(s.timestampValue,e.timestampValue);case 4:return Ey(Yl(s),Yl(e));case 5:return Lf(s.stringValue,e.stringValue);case 6:return(function(h,m){const p=pr(h),v=pr(m);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,m){const p=h.split("/"),v=m.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Vt(p[_],v[_]);if(A!==0)return A}return Vt(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,m){const p=Vt(he(h.latitude),he(m.latitude));return p!==0?p:Vt(he(h.longitude),he(m.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Ty(s.arrayValue,e.arrayValue);case 10:return(function(h,m){const p=h.fields||{},v=m.fields||{},_=p[Yo]?.arrayValue,A=v[Yo]?.arrayValue,O=Vt(_?.values?.length||0,A?.values?.length||0);return O!==0?O:Ty(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,m){if(h===Io.mapValue&&m===Io.mapValue)return 0;if(h===Io.mapValue)return 1;if(m===Io.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const x=Lf(v[O],A[O]);if(x!==0)return x;const Q=ds(p[v[O]],_[A[O]]);if(Q!==0)return Q}return Vt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function Ey(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=gr(s),a=gr(e),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function Ty(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ds(i[o],a[o]);if(h)return h}return Vt(i.length,a.length)}function ms(s){return zf(s)}function zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=zf(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const m of a)h?h=!1:o+=",",o+=`${m}:${zf(i.fields[m])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function xo(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rc(s);return e?16+xo(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+xo(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ua(a.fields,((h,m)=>{o+=h.length+xo(m)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function Pf(s){return!!s&&"integerValue"in s}function sd(s){return!!s&&"arrayValue"in s}function Ay(s){return!!s&&"nullValue"in s}function Sy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uo(s){return!!s&&"mapValue"in s}function N1(s){return(s?.mapValue?.fields||{})[I_]?.stringValue===N_}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ua(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return{...s}}function O1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===I1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=ke.emptyPath(),a={},o=[];e.forEach(((m,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}m?a[p.lastSegment()]=zl(m):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Uo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Uo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ua(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new Rn(zl(this.value))}}function O_(s){const e=[];return ua(s.fields,((i,a)=>{const o=new ke([i]);if(Uo(a)){const h=O_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const m of h)e.push(o.child(m))}else e.push(o)})),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,o,h,m,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=m,this.documentState=p}static newInvalidDocument(e){return new Fe(e,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,o){return new Fe(e,1,i,vt.min(),a,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.position=e,this.inclusive=i}}function by(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],m=s.position[o];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(m.referenceValue),i.key):a=ds(m,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ry(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i="asc"){this.field=e,this.dir=i}}function M1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{}class Se extends M_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new U1(e,i,a):i==="array-contains"?new P1(e,a):i==="in"?new B1(e,a):i==="not-in"?new k1(e,a):i==="array-contains-any"?new q1(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new L1(e,a):new z1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ds(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(ds(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends M_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return x_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x_(s){return s.op==="and"}function U_(s){return x1(s)&&x_(s)}function x1(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Bf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+ms(s.value);if(U_(s))return s.filters.map((e=>Bf(e))).join(",");{const e=s.filters.map((i=>Bf(i))).join(",");return`${s.op}(${e})`}}function L_(s,e){return s instanceof Se?(function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&ni(a.value,o.value)})(s,e):s instanceof ii?(function(a,o){return o instanceof ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,m,p)=>h&&L_(m,o.filters[p])),!0):!1})(s,e):void gt(19439)}function z_(s){return s instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${ms(i.value)}`})(s):s instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(z_).join(" ,")+"}"})(s):"Filter"}class U1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class L1 extends Se{constructor(e,i){super(e,"in",i),this.keys=P_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class z1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=P_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function P_(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class P1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sd(i)&&Xl(i.arrayValue,this.value)}}class B1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xl(this.value.arrayValue,i)}}class k1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xl(this.value.arrayValue,i)}}class q1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Xl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i=null,a=[],o=[],h=null,m=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=m,this.endAt=p,this.Te=null}}function wy(s,e=null,i=[],a=[],o=null,h=null,m=null){return new j1(s,e,i,a,o,h,m)}function ld(s){const e=Et(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Bf(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),ic(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ms(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ms(a))).join(",")),e.Te=i}return e.Te}function ud(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!M1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!L_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ry(s.startAt,e.startAt)&&Ry(s.endAt,e.endAt)}function kf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i=null,a=[],o=[],h=null,m="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=m,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function H1(s,e,i,a,o,h,m,p){return new ac(s,e,i,a,o,h,m,p)}function od(s){return new ac(s)}function Dy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function G1(s){return s.collectionGroup!==null}function Pl(s){const e=Et(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new be(ke.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Xo(h,a))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new Xo(ke.keyField(),a))}return e.Ie}function $n(s){const e=Et(s);return e.Ee||(e.Ee=Q1(e,Pl(s))),e.Ee}function Q1(s,e){if(s.limitType==="F")return wy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Xo(o.field,h)}));const i=s.endAt?new Fo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Fo(s.startAt.position,s.startAt.inclusive):null;return wy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function qf(s,e,i){return new ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function sc(s,e){return ud($n(s),$n(e))&&s.limitType===e.limitType}function B_(s){return`${ld($n(s))}|lt:${s.limitType}`}function ss(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>z_(o))).join(", ")}]`),ic(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>ms(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>ms(o))).join(",")),`Target(${a})`})($n(s))}; limitType=${s.limitType})`}function lc(s,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,e)&&(function(a,o){for(const h of Pl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(m,p,v){const _=by(m,p,v);return m.inclusive?_<=0:_<0})(a.startAt,Pl(a),o)||a.endAt&&!(function(m,p,v){const _=by(m,p,v);return m.inclusive?_>=0:_>0})(a.endAt,Pl(a),o))})(s,e)}function Y1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function k_(s){return(e,i)=>{let a=!1;for(const o of Pl(s)){const h=F1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function F1(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,m,p){const v=m.data.field(h),_=p.data.field(h);return v!==null&&_!==null?ds(v,_):gt(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return b_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new ie(ft.comparator);function Mi(){return X1}const q_=new ie(ft.comparator);function Ml(...s){let e=q_;for(const i of s)e=e.insert(i.key,i);return e}function j_(s){let e=q_;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ra(){return Bl()}function H_(){return Bl()}function Bl(){return new oa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const K1=new ie(ft.comparator),Z1=new be(ft.comparator);function It(...s){let e=Z1;for(const i of s)e=e.add(i);return e}const J1=new be(Vt);function $1(){return J1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function G_(s){return{integerValue:""+s}}function W1(s,e){return R1(e)?G_(e):cd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this._=void 0}}function tA(s,e,i){return s instanceof Ko?(function(o,h){const m={fields:{[D_]:{stringValue:w_},[V_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ad(h)&&(h=rc(h)),h&&(m.fields[C_]=h),{mapValue:m}})(i,e):s instanceof Kl?Y_(s,e):s instanceof Zl?F_(s,e):(function(o,h){const m=Q_(o,h),p=Cy(m)+Cy(o.Ae);return Pf(m)&&Pf(o.Ae)?G_(p):cd(o.serializer,p)})(s,e)}function eA(s,e,i){return s instanceof Kl?Y_(s,e):s instanceof Zl?F_(s,e):i}function Q_(s,e){return s instanceof Zo?(function(a){return Pf(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class Ko extends uc{}class Kl extends uc{constructor(e){super(),this.elements=e}}function Y_(s,e){const i=X_(e);for(const a of s.elements)i.some((o=>ni(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zl extends uc{constructor(e){super(),this.elements=e}}function F_(s,e){let i=X_(e);for(const a of s.elements)i=i.filter((o=>!ni(o,a)));return{arrayValue:{values:i}}}class Zo extends uc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Cy(s){return he(s.integerValue||s.doubleValue)}function X_(s){return sd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nA(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Kl&&o instanceof Kl||a instanceof Zl&&o instanceof Zl?fs(a.elements,o.elements,ni):a instanceof Zo&&o instanceof Zo?ni(a.Ae,o.Ae):a instanceof Ko&&o instanceof Ko})(s.transform,e.transform)}class iA{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class oc{}function K_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new J_(s.key,Ii.none()):new Wl(s.key,s.data,Ii.none());{const i=s.data,a=Rn.empty();let o=new be(ke.comparator);for(let h of e.fields)if(!o.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?a.delete(h):a.set(h,m),o=o.add(h)}return new ca(s.key,a,new Mn(o.toArray()),Ii.none())}}function rA(s,e,i){s instanceof Wl?(function(o,h,m){const p=o.value.clone(),v=Iy(o.fieldTransforms,h,m.transformResults);p.setAll(v),h.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(s,e,i):s instanceof ca?(function(o,h,m){if(!Lo(o.precondition,h))return void h.convertToUnknownDocument(m.version);const p=Iy(o.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(Z_(o)),v.setAll(p),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,i)}function kl(s,e,i,a){return s instanceof Wl?(function(h,m,p,v){if(!Lo(h.precondition,m))return p;const _=h.value.clone(),A=Ny(h.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof ca?(function(h,m,p,v){if(!Lo(h.precondition,m))return p;const _=Ny(h.fieldTransforms,v,m),A=m.data;return A.setAll(Z_(h)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((O=>O.field)))})(s,e,i,a):(function(h,m,p){return Lo(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(s,e,i)}function aA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=Q_(a.transform,o||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,h))}return i||null}function Vy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fs(a,o,((h,m)=>nA(h,m)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wl extends oc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends oc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Z_(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Iy(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],m=h.transform,p=e.data.field(h.field);a.set(h.field,eA(m,p,i[o]))}return a}function Ny(s,e,i){const a=new Map;for(const o of s){const h=o.transform,m=i.data.field(o.field);a.set(o.field,tA(h,m,e))}return a}class J_ extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sA extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&rA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=H_();return this.mutations.forEach((o=>{const h=e.get(o.key),m=h.overlayedDocument;let p=this.applyToLocalView(m,h.mutatedFields);p=i.has(o.key)?null:p;const v=K_(m,p);v!==null&&a.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,((i,a)=>Vy(i,a)))&&fs(this.baseMutations,e.baseMutations,((i,a)=>Vy(i,a)))}}class hd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return K1})();const h=e.mutations;for(let m=0;m<h.length;m++)o=o.insert(h[m].key,a[m].version);return new hd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function cA(s){switch(s){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function $_(s){if(s===void 0)return Oi("GRPC error has no .code"),K.UNKNOWN;switch(s){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:s})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new fr([4294967295,4294967295],0);function Oy(s){const e=hA().encode(s),i=new m_;return i.update(e),new Uint8Array(i.digest())}function My(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new fr([i,a],0),new fr([o,h],0)]}class fd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(fr.fromNumber(a)));return o.compare(fA)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Oy(e),[a,o]=My(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(a,o,h);if(!this.we(m))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new fd(h,o,i);return a.forEach((p=>m.insert(p))),m}insert(e){if(this.ge===0)return;const i=Oy(e),[a,o]=My(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(a,o,h);this.Se(m)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new cc(vt.min(),o,new ie(Vt),Mi(),It())}}class tu{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class W_{constructor(e,i){this.targetId=e,this.Ce=i}}class tv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class xy{constructor(){this.ve=0,this.Fe=Uy(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),a=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:h})}})),new tu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Uy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=No(),this.He=No(),this.Ye=new ie(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(kf(h))if(a===0){const m=new ft(h.path);this.et(i,m,Fe.newNoDocument(m,vt.min()))}else qt(a===1,20013,{expectedCount:a});else{const m=this._t(i);if(m!==a){const p=this.ut(e),v=p?this.ct(p,e,m):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let m,p;try{m=pr(a).toUint8Array()}catch(v){if(v instanceof R_)return hs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new fd(m,o,h)}catch(v){return hs(v instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,m)=>{const p=this.ot(m);if(p){if(h.current&&kf(p.target)){const v=new ft(p.target.path);this.It(v).has(m)||this.Et(m,v)||this.et(m,v,Fe.newNoDocument(v,e))}h.Be&&(i.set(m,h.ke()),h.qe())}}));let a=It();this.He.forEach(((h,m)=>{let p=!0;m.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(e)));const o=new cc(e,i,this.Ye,this.je,a);return this.je=Mi(),this.Je=No(),this.He=No(),this.Ye=new ie(Vt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new xy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function No(){return new ie(ft.comparator)}function Uy(){return new ie(ft.comparator)}const mA={asc:"ASCENDING",desc:"DESCENDING"},gA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pA={and:"AND",or:"OR"};class yA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function jf(s,e){return s.useProto3Json||ic(e)?e:{value:e}}function Jo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ev(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function _A(s,e){return Jo(s,e.toTimestamp())}function Wn(s){return qt(!!s,49232),vt.fromTimestamp((function(i){const a=gr(i);return new $t(a.seconds,a.nanos)})(s))}function dd(s,e){return Hf(s,e).canonicalString()}function Hf(s,e){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function nv(s){const e=ne.fromString(s);return qt(lv(e),10190,{key:e.toString()}),e}function Gf(s,e){return dd(s.databaseId,e.path)}function wf(s,e){const i=nv(e);if(i.get(1)!==s.databaseId.projectId)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(rv(i))}function iv(s,e){return dd(s.databaseId,e)}function vA(s){const e=nv(s);return e.length===4?ne.emptyPath():rv(e)}function Qf(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ly(s,e,i){return{name:Gf(s,e),fields:i.value.mapValue.fields}}function EA(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),m=e.targetChange.cause,p=m&&(function(_){const A=_.code===void 0?K.UNKNOWN:$_(_.code);return new ot(A,_.message||"")})(m);i=new tv(a,o,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=wf(s,a.document.name),h=Wn(a.document.updateTime),m=a.document.createTime?Wn(a.document.createTime):vt.min(),p=new Rn({mapValue:{fields:a.document.fields}}),v=Fe.newFoundDocument(o,h,m,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new zo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=wf(s,a.document),h=a.readTime?Wn(a.readTime):vt.min(),m=Fe.newNoDocument(o,h),p=a.removedTargetIds||[];i=new zo([],p,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=wf(s,a.document),h=a.removedTargetIds||[];i=new zo([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,m=new oA(o,h),p=a.targetId;i=new W_(p,m)}}return i}function TA(s,e){let i;if(e instanceof Wl)i={update:Ly(s,e.key,e.value)};else if(e instanceof J_)i={delete:Gf(s,e.key)};else if(e instanceof ca)i={update:Ly(s,e.key,e.data),updateMask:IA(e.fieldMask)};else{if(!(e instanceof sA))return gt(16599,{Vt:e.type});i={verify:Gf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,m){const p=m.transform;if(p instanceof Ko)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Kl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zo)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:m.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:_A(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(s,e.precondition)),i}function AA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map((i=>(function(o,h){let m=o.updateTime?Wn(o.updateTime):Wn(h);return m.isEqual(vt.min())&&(m=Wn(h)),new iA(m,o.transformResults||[])})(i,e)))):[]}function SA(s,e){return{documents:[iv(s,e.path)]}}function bA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iv(s,o);const h=(function(_){if(_.length!==0)return sv(ii.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const m=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:ls(x.field),direction:DA(x.dir)}})(A)))})(e.orderBy);m&&(i.structuredQuery.orderBy=m);const p=jf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function RA(s){let e=vA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(O){const x=av(O);return x instanceof ii&&U_(x)?x.getFilters():[x]})(i.where));let m=[];i.orderBy&&(m=(function(O){return O.map((x=>(function($){return new Xo(us($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(O){let x;return x=typeof O=="object"?O.value:O,ic(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(O){const x=!!O.before,Q=O.values||[];return new Fo(Q,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(O){const x=!O.before,Q=O.values||[];return new Fo(Q,x)})(i.endAt)),H1(e,o,m,h,p,"F",v,_)}function wA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function av(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=us(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=us(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=us(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=us(i.unaryFilter.field);return Se.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Se.create(us(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((a=>av(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function DA(s){return mA[s]}function CA(s){return gA[s]}function VA(s){return pA[s]}function ls(s){return{fieldPath:s.canonicalString()}}function us(s){return ke.fromServerFormat(s.fieldPath)}function sv(s){return s instanceof Se?(function(i){if(i.op==="=="){if(Sy(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NAN"}};if(Ay(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sy(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NAN"}};if(Ay(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(i.field),op:CA(i.op),value:i.value}}})(s):s instanceof ii?(function(i){const a=i.getFilters().map((o=>sv(o)));return a.length===1?a[0]:{compositeFilter:{op:VA(i.op),filters:a}}})(s):gt(54877,{filter:s})}function IA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,i,a,o,h=vt.min(),m=vt.min(),p=qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.yt=e}}function OA(s){const e=RA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.Cn=new xA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(mr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class xA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new be(ne.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new be(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(uv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gs(0)}static cr(){return new gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",UA=1048576;function By([s,e],[i,a]){const o=Vt(s,i);return o===0?Vt(e,a):o}class LA{constructor(e){this.Ir=e,this.buffer=new be(By),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();By(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(Py,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Es(i)?it(Py,"Ignoring IndexedDB error during garbage collection: ",i):await vs(i)}await this.Vr(3e5)}))}}class PA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return F.resolve(nc.ce);const a=new LA(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(zy)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,m,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,m=Date.now(),this.nthSequenceNumber(e,o)))).next((O=>(a=O,p=Date.now(),this.removeTargets(e,a,i)))).next((O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(_=Date.now(),as()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:O}))))}}function BA(s,e){return new PA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&kl(a.mutation,o,Mn.empty(),$t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,It()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=It()){const o=ra();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let m=Ml();return h.forEach(((p,v)=>{m=m.insert(p,v.overlayedDocument)})),m}))))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,It())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((m,p)=>{i.set(m,p)}))}))}computeViews(e,i,a,o){let h=Mi();const m=Bl(),p=(function(){return Bl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ca)?h=h.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),kl(A.mutation,_,A.mutation.getFieldMask(),$t.now())):m.set(_.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>m.set(_,A))),i.forEach(((_,A)=>p.set(_,new qA(A,m.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Bl();let o=new ie(((m,p)=>m-p)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((m=>{for(const p of m)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Mn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const O=(o.get(p.batchId)||It()).add(v);o=o.insert(p.batchId,O)}))})).next((()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,O=H_();A.forEach((x=>{if(!h.has(x)){const Q=K_(i.get(x),a.get(x));Q!==null&&O.set(x,Q),h=h.add(x)}})),m.push(this.documentOverlayCache.saveOverlays(e,_,O))}return F.waitFor(m)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(m){return ft.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):G1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const m=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):F.resolve(ra());let p=Ql,v=h;return m.next((_=>F.forEach(_,((A,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((A=>({batchId:p,changes:j_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((a=>{let o=Ml();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let m=Ml();return this.indexManager.getCollectionParents(e,h).next((p=>F.forEach(p,(v=>{const _=(function(O,x){return new ac(x,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((O,x)=>{m=m.insert(O,x)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((m=>{h.forEach(((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,Fe.newInvalidDocument(A)))}));let p=Ml();return m.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&kl(A.mutation,_,Mn.empty(),$t.now()),lc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return F.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Wn(o.createTime)}})(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:OA(o.bundledQuery),readTime:Wn(o.readTime)}})(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.overlays=new ie(ft.comparator),this.qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return F.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),F.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const o=ra(),h=i.length+1,m=new ft(i.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ie(((_,A)=>_-A));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=ra(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ra(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return F.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new uA(i,a));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.Qr=new be(Ne.$r),this.Ur=new be(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ne(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ft(new ne([])),a=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new ne([])),a=new Ne(i,e),o=new Ne(i,e+1);let h=It();return this.Ur.forEachInRange([a,o],(m=>{h=h.add(m.key)})),h}containsKey(e){const i=new Ne(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(Ne.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new lA(h,i,a,o);this.mutationQueue.push(m);for(const p of o)this.Zr=this.Zr.add(new Ne(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(m)}lookupMutationBatch(e,i){return F.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?rd:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(m=>{const p=this.Xr(m.Yr);h.push(p)})),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Vt);return i.forEach((o=>{const h=new Ne(o,0),m=new Ne(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(p=>{a=a.add(p.Yr)}))})),F.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const m=new Ne(new ft(h),0);let p=new be(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),m),F.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return F.forEach(i.mutations,(o=>{const h=new Ne(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ne(i,0),o=this.Zr.firstAfterOrEqual(a);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.ri=e,this.docs=(function(){return new ie(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,m=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=Mi();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))})),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Mi();const m=i.path,p=new ft(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||T1(E1(A),a)<=0||(o.has(A.key)||lc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,o){gt(9500)}ii(e,i){return F.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new XA(this)}getSize(e){return F.resolve(this.size)}}class XA extends kA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),F.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.persistence=e,this.si=new oa((i=>ld(i)),ud),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new md,this.targetCount=0,this.ai=gs.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),F.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new gs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Pr(i),F.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((m,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),F.waitFor(h).next((()=>o))}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((m=>{h.push(o.markPotentiallyOrphaned(e,m))})),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,i){this.ui={},this.overlays={},this.ci=new nc(0),this.li=!1,this.li=!0,this.hi=new QA,this.referenceDelegate=e(this),this.Pi=new KA(this),this.indexManager=new MA,this.remoteDocumentCache=(function(o){return new FA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new NA(i),this.Ii=new HA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new YA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const o=new ZA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return F.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class ZA extends S1{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.Ri=new md,this.Vi=null}static mi(e){return new gd(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,(a=>{const o=ft.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return F.or([()=>F.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class $o{constructor(e,i){this.persistence=e,this.pi=new oa((a=>w1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=BA(this,i)}static mi(e,i){return new $o(e,i)}Ei(){}di(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return F.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?F.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(m=>this.br(e,m,i).next((p=>{p||(a++,h.removeEntry(m,vt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xo(e.data.value)),i}br(e,i,a){return F.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return F.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new pd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return q0()?8:b1(B0())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new JA;return this.Ss(e,i,m).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,m,p.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(as()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(as()<=Ut.DEBUG&&it("QueryEngine","Query:",ss(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(as()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):F.resolve())}ys(e,i){if(Dy(i))return F.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=qf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const m=It(...h);return this.ps.getDocuments(e,m).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,m,v.readTime)?this.ys(e,qf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return Dy(i)||o.isEqual(vt.min())?F.resolve(null):this.ps.getDocuments(e,a).next((h=>{const m=this.Ds(i,h);return this.Cs(i,m,a,o)?F.resolve(null):(as()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ss(i)),this.vs(e,m,i,v1(o,Ql)).next((p=>p)))}))}Ds(e,i){let a=new be(k_(e));return i.forEach(((o,h)=>{lc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return as()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ss(i)),this.ps.getDocumentsMatchingQuery(e,i,mr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="LocalStore",WA=3e8;class tS{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ie(Vt),this.xs=new oa((h=>ld(h)),ud),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function eS(s,e,i,a){return new tS(s,e,i,a)}async function cv(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const m=[],p=[];let v=It();for(const _ of o){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:p})))}))}))}function nS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const O=_.batch,x=O.keys();let Q=F.resolve();return x.forEach(($=>{Q=Q.next((()=>A.getEntry(v,$))).next((rt=>{const J=_.docVersions.get($);qt(J!==null,48541),rt.version.compareTo(J)<0&&(O.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),A.addEntry(rt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(v,O)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=It();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function hv(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function iS(s,e){const i=Et(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,O)=>{const x=o.get(O);if(!x)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,O).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,O))));let Q=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?Q=Q.withResumeToken(qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),o=o.insert(O,Q),(function(rt,J,st){return rt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=WA?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(x,Q,A)&&p.push(i.Pi.updateTargetData(h,Q))}));let v=Mi(),_=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(rS(h,m,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((O=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return F.waitFor(p).next((()=>m.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function rS(s,e,i){let a=It(),o=It();return i.forEach((h=>a=a.add(h))),e.getEntries(s,a).next((h=>{let m=Mi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(p,v.readTime),m=m.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),m=m.insert(p,v)):it(yd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:m,qs:o}}))}function aS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=rd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function sS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,F.resolve(o)):i.Pi.allocateTargetId(a).next((m=>(o=new or(e,m,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Yf(s,e,i){const a=Et(s),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(m=>a.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!Es(m))throw m;it(yd,`Failed to update sequence numbers for target ${e}: ${m}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function ky(s,e,i){const a=Et(s);let o=vt.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",(m=>(function(v,_,A){const O=Et(v),x=O.xs.get(A);return x!==void 0?F.resolve(O.Ms.get(x)):O.Pi.getTargetData(_,A)})(a,m,$n(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(m,p.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(m,e,i?o:vt.min(),i?h:It()))).next((p=>(lS(a,Y1(e),p),{documents:p,Qs:h})))))}function lS(s,e,i){let a=s.Os.get(e)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(e,a)}class qy{constructor(){this.activeTargetIds=$1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uS{constructor(){this.Mo=new qy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="ConnectivityMonitor";class Hy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(jy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=null;function Ff(){return Oo===null?Oo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oo++,"0x"+Oo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",cS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Qo?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const m=Ff(),p=this.zo(e,i.toUriEncodedString());it(Df,`Sending RPC '${e}' ${m}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),A=Wf(_);return this.Jo(e,p,v,a,A).then((O=>(it(Df,`Received RPC '${e}' ${m}: `,O),O)),(O=>{throw hs(Df,`RPC '${e}' ${m} failed with error: `,O,"url: ",p,"request:",a),O}))}Ho(e,i,a,o,h,m){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_s})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=cS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class dS extends hS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const m=Ff();return new Promise(((p,v)=>{const _=new g_;_.setWithCredentials(!0),_.listenOnce(p_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mo.NO_ERROR:const O=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(O)),p(O);break;case Mo.TIMEOUT:it(Qe,`RPC '${e}' ${m} timed out`),v(new ot(K.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const x=_.getStatus();if(it(Qe,`RPC '${e}' ${m} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q?.error;if($&&$.status&&$.message){const rt=(function(st){const nt=st.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(nt)>=0?nt:K.UNKNOWN})($.status);v(new ot(rt,$.message))}else v(new ot(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${m} completed.`)}}));const A=JSON.stringify(o);it(Qe,`RPC '${e}' ${m} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=Ff(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=v_(),p=__(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const O=m.createWebChannel(A,v);this.I_(O);let x=!1,Q=!1;const $=new fS({Yo:J=>{Q?it(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(x||(it(Qe,`Opening RPC '${e}' stream ${o} transport.`),O.open(),x=!0),it(Qe,`RPC '${e}' stream ${o} sending:`,J),O.send(J))},Zo:()=>O.close()}),rt=(J,st,nt)=>{J.listen(st,(lt=>{try{nt(lt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return rt(O,Ol.EventType.OPEN,(()=>{Q||(it(Qe,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),rt(O,Ol.EventType.CLOSE,(()=>{Q||(Q=!0,it(Qe,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(O))})),rt(O,Ol.EventType.ERROR,(J=>{Q||(Q=!0,hs(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new ot(K.UNAVAILABLE,"The operation could not be completed")))})),rt(O,Ol.EventType.MESSAGE,(J=>{if(!Q){const st=J.data[0];qt(!!st,16349);const nt=st,lt=nt?.error||nt[0]?.error;if(lt){it(Qe,`RPC '${e}' stream ${o} received error:`,lt);const Tt=lt.status;let pt=(function(S){const w=pe[S];if(w!==void 0)return $_(w)})(Tt),Bt=lt.message;pt===void 0&&(pt=K.INTERNAL,Bt="Unknown error status: "+Tt+" with message "+lt.message),Q=!0,$.a_(new ot(pt,Bt)),O.close()}else it(Qe,`RPC '${e}' stream ${o} received:`,st),$.u_(st)}})),rt(p,y_.STAT_EVENT,(J=>{J.stat===Uf.PROXY?it(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Uf.NOPROXY&&it(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){return new yA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="PersistentStream";class dv{constructor(e,i,a,o,h,m,p,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ot(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(Gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(Gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mS extends dv{constructor(e,i,a,o,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,m),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=EA(this.serializer,e),a=(function(h){if(!("targetChange"in h))return vt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?vt.min():m.readTime?Wn(m.readTime):vt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Qf(this.serializer),i.addTarget=(function(h,m){let p;const v=m.target;if(p=kf(v)?{documents:SA(h,v)}:{query:bA(h,v).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=ev(h,m.resumeToken);const _=jf(h,m.expectedCount);_!==null&&(p.expectedCount=_)}else if(m.snapshotVersion.compareTo(vt.min())>0){p.readTime=Jo(h,m.snapshotVersion.toTimestamp());const _=jf(h,m.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=wA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Qf(this.serializer),i.removeTarget=e,this.q_(i)}}class gS extends dv{constructor(e,i,a,o,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=AA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Qf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>TA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{}class yS extends pS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(e,Hf(i,a),o,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(K.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.Ho(e,Hf(i,a),o,m,p,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ot(K.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _S{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class vS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{a.enqueueAndForget((async()=>{ha(this)&&(it(la,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await fc(_)})(this))}))})),this.Ra=new _S(a,o)}}async function fc(s){if(ha(s))for(const e of s.da)await e(!0)}async function eu(s){for(const e of s.da)await e(!1)}function mv(s,e){const i=Et(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Td(i)?Ed(i):Ts(i).O_()&&vd(i,e))}function _d(s,e){const i=Et(s),a=Ts(i);i.Ia.delete(e),a.O_()&&gv(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Ra.set("Unknown"))}function vd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).Y_(e)}function gv(s,e){s.Va.Ue(e),Ts(s).Z_(e)}function Ed(s){s.Va=new dA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.Ra.ua()}function Td(s){return ha(s)&&!Ts(s).x_()&&s.Ia.size>0}function ha(s){return Et(s).Ea.size===0}function pv(s){s.Va=void 0}async function ES(s){s.Ra.set("Online")}async function TS(s){s.Ia.forEach(((e,i)=>{vd(s,e)}))}async function AS(s,e){pv(s),Td(s)?(s.Ra.ha(e),Ed(s)):s.Ra.set("Unknown")}async function SS(s,e,i){if(s.Ra.set("Online"),e instanceof tv&&e.state===2&&e.cause)try{await(async function(o,h){const m=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){it(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Wo(s,a)}else if(e instanceof zo?s.Va.Ze(e):e instanceof W_?s.Va.st(e):s.Va.tt(e),!i.isEqual(vt.min()))try{const a=await hv(s.localStore);i.compareTo(a)>=0&&await(function(h,m){const p=h.Va.Tt(m);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,m))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),gv(h,v);const O=new or(A.target,v,_,A.sequenceNumber);vd(h,O)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(la,"Failed to raise snapshot:",a),await Wo(s,a)}}async function Wo(s,e,i){if(!Es(e))throw e;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),i||(i=()=>hv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await fc(s)}))}function yv(s,e){return e().catch((i=>Wo(s,i,e)))}async function dc(s){const e=Et(s),i=_r(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rd;for(;bS(e);)try{const o=await aS(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,RS(e,o)}catch(o){await Wo(e,o)}_v(e)&&vv(e)}function bS(s){return ha(s)&&s.Ta.length<10}function RS(s,e){s.Ta.push(e);const i=_r(s);i.O_()&&i.X_&&i.ea(e.mutations)}function _v(s){return ha(s)&&!_r(s).x_()&&s.Ta.length>0}function vv(s){_r(s).start()}async function wS(s){_r(s).ra()}async function DS(s){const e=_r(s);for(const i of s.Ta)e.ea(i.mutations)}async function CS(s,e,i){const a=s.Ta.shift(),o=hd.from(a,e,i);await yv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await dc(s)}async function VS(s,e){e&&_r(s).X_&&await(async function(a,o){if((function(m){return cA(m)&&m!==K.ABORTED})(o.code)){const h=a.Ta.shift();_r(a).B_(),await yv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await dc(a)}})(s,e),_v(s)&&vv(s)}async function Qy(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(la,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await eu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await fc(i)}async function IS(s,e){const i=Et(s);e?(i.Ea.delete(2),await fc(i)):e||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Ts(s){return s.ma||(s.ma=(function(i,a,o){const h=Et(i);return h.sa(),new mS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:ES.bind(null,s),t_:TS.bind(null,s),r_:AS.bind(null,s),H_:SS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Td(s)?Ed(s):s.Ra.set("Unknown")):(await s.ma.stop(),pv(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(i,a,o){const h=Et(i);return h.sa(),new gS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:wS.bind(null,s),r_:VS.bind(null,s),ta:DS.bind(null,s),na:CS.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await dc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const m=Date.now()+a,p=new Ad(e,i,m,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(s,e){if(Oi("AsyncQueue",`${e}: ${s}`),Es(s))return new ot(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.ga=new ie(ft.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class ps{constructor(e,i,a,o,h,m,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const m=[];return i.forEach((p=>{m.push({type:0,doc:p})})),new ps(e,i,cs.emptySet(i),m,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OS{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Et(i),h=o.queries;o.queries=Fy(),h.forEach(((m,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new ot(K.ABORTED,"Firestore shutting down"))}}function Fy(){return new oa((s=>B_(s)),sc)}async function MS(s,e){const i=Et(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new NS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const p=Sd(m,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&bd(i)}async function xS(s,e){const i=Et(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const m=h.Sa.indexOf(e);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function US(s,e){const i=Et(s);let a=!1;for(const o of e){const h=o.query,m=i.queries.get(h);if(m){for(const p of m.Sa)p.Fa(o)&&(a=!0);m.wa=o}}a&&bd(i)}function LS(s,e,i){const a=Et(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function bd(s){s.Ca.forEach((e=>{e.next()}))}var Xf,Xy;(Xy=Xf||(Xf={})).Ma="default",Xy.Cache="cache";class zS{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ps(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.key=e}}class Tv{constructor(e){this.key=e}}class PS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=k_(e),this.tu=new cs(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Yy,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,m=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,O)=>{const x=o.get(A),Q=lc(this.query,O)?O:null,$=!!x&&this.mutatedKeys.has(x.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;x&&Q?x.data.isEqual(Q.data)?$!==rt&&(a.track({type:3,doc:Q}),J=!0):this.su(x,Q)||(a.track({type:2,doc:Q}),J=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!x&&Q?(a.track({type:0,doc:Q}),J=!0):x&&!Q&&(a.track({type:1,doc:x}),J=!0,(v||_)&&(p=!0)),J&&(Q?(m=m.add(Q),h=rt?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:m,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((A,O)=>(function(Q,$){const rt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return rt(Q)-rt($)})(A.type,O.type)||this.eu(A.doc,O.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,m.length!==0||_?{snapshot:new ps(this.query,e.tu,h,m,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Tv(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Ev(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rd="SyncEngine";class BS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class kS{constructor(e){this.key=e,this.hu=!1}}class qS{constructor(e,i,a,o,h,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new oa((p=>B_(p)),sc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ft.comparator),this.Au=new Map,this.Ru=new md,this.Vu={},this.mu=new Map,this.fu=gs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jS(s,e,i=!0){const a=Dv(s);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Av(a,e,i,!0),o}async function HS(s,e){const i=Dv(s);await Av(i,e,!0,!1)}async function Av(s,e,i,a){const o=await sS(s.localStore,$n(e)),h=o.targetId,m=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await GS(s,e,h,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&mv(s.remoteStore,o),p}async function GS(s,e,i,a,o){s.pu=(O,x,Q)=>(async function(rt,J,st,nt){let lt=J.view.ru(st);lt.Cs&&(lt=await ky(rt.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,lt))));const Tt=nt&&nt.targetChanges.get(J.targetId),pt=nt&&nt.targetMismatches.get(J.targetId)!=null,Bt=J.view.applyChanges(lt,rt.isPrimaryClient,Tt,pt);return Zy(rt,J.targetId,Bt.au),Bt.snapshot})(s,O,x,Q);const h=await ky(s.localStore,e,!0),m=new PS(e,h.Qs),p=m.ru(h.documents),v=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=m.applyChanges(p,s.isPrimaryClient,v);Zy(s,i,_.au);const A=new BS(e,i,m);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function QS(s,e,i){const a=Et(s),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((m=>!sc(m,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Yf(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&_d(a.remoteStore,o.targetId),Kf(a,o.targetId)})).catch(vs)):(Kf(a,o.targetId),await Yf(a.localStore,o.targetId,!0))}async function YS(s,e){const i=Et(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),_d(i.remoteStore,a.targetId))}async function FS(s,e,i){const a=tb(s);try{const o=await(function(m,p){const v=Et(m),_=$t.now(),A=p.reduce(((Q,$)=>Q.add($.key)),It());let O,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let $=Mi(),rt=It();return v.Ns.getEntries(Q,A).next((J=>{$=J,$.forEach(((st,nt)=>{nt.isValidDocument()||(rt=rt.add(st))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,$))).next((J=>{O=J;const st=[];for(const nt of p){const lt=aA(nt,O.get(nt.key).overlayedDocument);lt!=null&&st.push(new ca(nt.key,lt,O_(lt.value.mapValue),Ii.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,st,p)})).next((J=>{x=J;const st=J.applyToLocalDocumentSet(O,rt);return v.documentOverlayCache.saveOverlays(Q,J.batchId,st)}))})).then((()=>({batchId:x.batchId,changes:j_(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(m,p,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new ie(Vt)),_=_.insert(p,v),m.Vu[m.currentUser.toKey()]=_})(a,o.batchId,i),await nu(a,o.changes),await dc(a.remoteStore)}catch(o){const h=Sd(o,"Failed to persist write");i.reject(h)}}async function Sv(s,e){const i=Et(s);try{const a=await iS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const m=i.Au.get(h);m&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?qt(m.hu,14607):o.removedDocuments.size>0&&(qt(m.hu,42227),m.hu=!1))})),await nu(i,a,e)}catch(a){await vs(a)}}function Ky(s,e,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,m)=>{const p=m.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(m,p){const v=Et(m);v.onlineState=p;let _=!1;v.queries.forEach(((A,O)=>{for(const x of O.Sa)x.va(p)&&(_=!0)})),_&&bd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function XS(s,e,i){const a=Et(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let m=new ie(ft.comparator);m=m.insert(h,Fe.newNoDocument(h,vt.min()));const p=It().add(h),v=new cc(vt.min(),new Map,new ie(Vt),m,p);await Sv(a,v),a.du=a.du.remove(h),a.Au.delete(e),wd(a)}else await Yf(a.localStore,e,!1).then((()=>Kf(a,e,i))).catch(vs)}async function KS(s,e){const i=Et(s),a=e.batch.batchId;try{const o=await nS(i.localStore,e);Rv(i,a,null),bv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,o)}catch(o){await vs(o)}}async function ZS(s,e,i){const a=Et(s);try{const o=await(function(m,p){const v=Et(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((O=>(qt(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);Rv(a,e,i),bv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,o)}catch(o){await vs(o)}}function bv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Rv(s,e,i){const a=Et(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Kf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||wv(s,a)}))}function wv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(_d(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),wd(s))}function Zy(s,e,i){for(const a of i)a instanceof Ev?(s.Ru.addReference(a.key,e),JS(s,a)):a instanceof Tv?(it(Rd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||wv(s,a.key)):gt(19791,{wu:a})}function JS(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Rd,"New document in limbo: "+i),s.Eu.add(a),wd(s))}function wd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(ne.fromString(e)),a=s.fu.next();s.Au.set(a,new kS(i)),s.du=s.du.insert(i,a),mv(s.remoteStore,new or($n(od(i.path)),a,"TargetPurposeLimboResolution",nc.ce))}}async function nu(s,e,i){const a=Et(s),o=[],h=[],m=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{m.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=pd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(m),a.Pu.H_(o),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>F.forEach(_,(x=>F.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(O,x.targetId,Q))).next((()=>F.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(O,x.targetId,Q)))))))))}catch(O){if(!Es(O))throw O;it(yd,"Failed to update sequence numbers: "+O)}for(const O of _){const x=O.targetId;if(!O.fromCache){const Q=A.Ms.get(x),$=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(x,rt)}}})(a.localStore,h))}async function $S(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){it(Rd,"User change. New user:",e.toKey());const a=await cv(i.localStore,e);i.currentUser=e,(function(h,m){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot(K.CANCELLED,m))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function WS(s,e){const i=Et(s),a=i.Au.get(e);if(a&&a.hu)return It().add(a.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const m of h){const p=i.Tu.get(m);o=o.unionWith(p.view.nu)}return o}}function Dv(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XS.bind(null,e),e.Pu.H_=US.bind(null,e.eventManager),e.Pu.yu=LS.bind(null,e.eventManager),e}function tb(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZS.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return eS(this.persistence,new $A,e.initialUser,this.serializer)}Cu(e){return new ov(gd.mi,this.serializer)}Du(e){return new uS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class eb extends tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof $o,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new ov((a=>$o.mi(a,i)),this.serializer)}}class Zf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ky(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$S.bind(null,this.syncEngine),await IS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OS})()}createDatastore(e){const i=hc(e.databaseInfo.databaseId),a=(function(h){return new dS(h)})(e.databaseInfo);return(function(h,m,p,v){return new yS(h,m,p,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,m,p){return new vS(a,o,h,m,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ky(this.syncEngine,i,0)),(function(){return Hy.v()?new Hy:new oS})())}createSyncEngine(e,i){return(function(o,h,m,p,v,_,A){const O=new qS(o,h,m,p,v,_);return A&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);it(la,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class ib{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async m=>{it(vr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(a,(m=>(it(vr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Sd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Vf(s,e){s.asyncQueue.verifyOperationInProgress(),it(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await cv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Jy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await rb(s);it(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Qy(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Qy(e.remoteStore,o))),s._onlineComponents=e}async function rb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(vr,"Using user provided OfflineComponentProvider");try{await Vf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;hs("Error using user provided cache. Falling back to memory cache: "+i),await Vf(s,new tc)}}else it(vr,"Using default OfflineComponentProvider"),await Vf(s,new eb(void 0));return s._offlineComponents}async function Cv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(vr,"Using user provided OnlineComponentProvider"),await Jy(s,s._uninitializedComponentsProvider._online)):(it(vr,"Using default OnlineComponentProvider"),await Jy(s,new Zf))),s._onlineComponents}function ab(s){return Cv(s).then((e=>e.syncEngine))}async function sb(s){const e=await Cv(s),i=e.eventManager;return i.onListen=jS.bind(null,e.syncEngine),i.onUnlisten=QS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=HS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YS.bind(null,e.syncEngine),i}function lb(s,e,i={}){const a=new dr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,m,p,v,_){const A=new nb({next:x=>{A.Nu(),m.enqueueAndForget((()=>xS(h,O)));const Q=x.docs.has(p);!Q&&x.fromCache?_.reject(new ot(K.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&v&&v.source==="server"?_.reject(new ot(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),O=new zS(od(p.path),A,{includeMetadataChanges:!0,qa:!0});return MS(h,O)})(await sb(s),s.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="firestore.googleapis.com",Wy=!0;class t_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iv,this.ssl=Wy}else this.host=e.host,this.ssl=e.ssl??Wy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UA)throw new ot(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new l1;switch(a.type){case"firstParty":return new h1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=$y.get(i);a&&(it("ComponentProvider","Removing Datastore"),$y.delete(i),a.terminate())})(this),Promise.resolve()}}function ub(s,e,i,a={}){s=Gl(s,Dd);const o=Wf(e),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(x0(`https://${p}`),P0("Firestore",!0)),h.host!==Iv&&h.host!==p&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:a};if(!ko(v,m)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=U0(a.mockUserToken,s._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new ot(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(O)}s._authCredentials=new u1(new T_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Cd(this.firestore,e,this._query)}}class Oe{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if($l(i,Oe._jsonSchema))return new Oe(e,a||null,new ft(ne.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:ye("string",Oe._jsonSchemaVersion),referencePath:ye("string")};class Jl extends Cd{constructor(e,i,a){super(e,i,od(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new ft(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function ob(s,e,...i){if(s=qo(s),arguments.length===1&&(e=nd.newId()),y1("doc","path",e),s instanceof Dd){const a=ne.fromString(e,...i);return my(a),new Oe(s,null,new ft(a))}{if(!(s instanceof Oe||s instanceof Jl))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(e,...i));return my(a),new Oe(s.firestore,s instanceof Jl?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="AsyncQueue";class n_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fv(this,"async_queue_retry"),this._c=()=>{const a=Cf();a&&it(e_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Cf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Cf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Es(e))throw e;it(e_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",i_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Ad.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:i_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function i_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Vd extends Dd{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new n_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,await e}}}function cb(s,e){const i=typeof s=="object"?s:XT(),a=typeof s=="string"?s:Qo,o=HT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=O0("firestore");h&&ub(o,...h)}return o}function Nv(s){if(s._terminated)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||hb(s),s._firestoreClient}function hb(s){const e=s._freezeSettings(),i=(function(o,h,m,p){return new V1(o,h,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Vv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ib(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(qe.fromBase64String(e))}catch(i){throw new ot(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:ye("string",wn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if($l(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:ye("string",ti._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ei(e.vectorValues);throw new ot(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:ye("string",ei._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=/^__.*__$/;class db{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}function Mv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class Nd{constructor(e,i,a,o,h,m){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mv(this.Ac)&&fb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||hc(e)}Cc(e,i,a,o=!1){return new Nd({Ac:e,methodName:i,Dc:a,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gb(s){const e=s._freezeSettings(),i=hc(s._databaseId);return new mb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function pb(s,e,i,a,o,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);zv("Data must be an object, but it was:",m,a);const p=Uv(a,m);let v,_;if(h.merge)v=new Mn(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const x=yb(e,O,i);if(!m.contains(x))throw new ot(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);vb(A,x)||A.push(x)}v=new Mn(A),_=m.fieldTransforms.filter((O=>v.covers(O.field)))}else v=null,_=m.fieldTransforms;return new db(new Rn(p),v,_)}function xv(s,e){if(Lv(s=qo(s)))return zv("Unsupported field value:",e,s),Uv(s,e);if(s instanceof Ov)return(function(a,o){if(!Mv(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let m=0;for(const p of a){let v=xv(p,o.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}})(s,e)}return(function(a,o){if((a=qo(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return W1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=$t.fromDate(a);return{timestampValue:Jo(o.serializer,h)}}if(a instanceof $t){const h=new $t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jo(o.serializer,h)}}if(a instanceof ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wn)return{bytesValue:ev(o.serializer,a._byteString)};if(a instanceof Oe){const h=o.databaseId,m=a.firestore._databaseId;if(!m.isEqual(h))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:dd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ei)return(function(m,p){return{mapValue:{fields:{[I_]:{stringValue:N_},[Yo]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return cd(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${id(a)}`)})(s,e)}function Uv(s,e){const i={};return b_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(s,((a,o)=>{const h=xv(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function Lv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof $t||s instanceof ti||s instanceof wn||s instanceof Oe||s instanceof Ov||s instanceof ei)}function zv(s,e,i){if(!Lv(i)||!A_(i)){const a=id(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function yb(s,e,i){if((e=qo(e))instanceof Id)return e._internalPath;if(typeof e=="string")return Pv(s,e);throw ec("Field path arguments must be of type string or ",s,!1,void 0,i)}const _b=new RegExp("[~\\*/\\[\\]]");function Pv(s,e,i){if(e.search(_b)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Id(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ec(s,e,i,a,o){const h=a&&!a.isEmpty(),m=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${a}`),m&&(v+=` in document ${o}`),v+=")"),new ot(K.INVALID_ARGUMENT,p+s+v)}function vb(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Eb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Eb extends Bv{data(){return super.data()}}function kv(s,e){return typeof e=="string"?Pv(s,e):e instanceof Id?e._internalPath:e._delegate._internalPath}class Tb{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ua(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[Yo].arrayValue?.values?.map((a=>he(a.doubleValue)));return new ei(i)}convertGeoPoint(e){return new ti(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=rc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new $t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ne.fromString(e);qt(lv(a),9688,{name:e});const o=new Fl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Bv{constructor(e,i,a,o,h,m){super(e,i,a,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(kv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:ye("string",aa._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class Po extends aa{data(e={}){return super.data(e)}}class ql{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Po(this._firestore,this._userDataWriter,a.key,a,new Ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((p=>{const v=new Po(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ul(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Po(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ul(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),A=m.indexOf(p.doc.key)),{type:Sb(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){s=Gl(s,Oe);const e=Gl(s.firestore,Vd);return lb(Nv(e),s._key).then((i=>Cb(e,s,i)))}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:ye("string",ql._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class Rb extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function wb(s,e,i){s=Gl(s,Oe);const a=Gl(s.firestore,Vd),o=Ab(s.converter,e);return Db(a,[pb(gb(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ii.none())])}function Db(s,e){return(function(a,o){const h=new dr;return a.asyncQueue.enqueueAndForget((async()=>FS(await ab(a),o,h))),h.promise})(Nv(s),e)}function Cb(s,e,i){const a=i.docs.get(e._key),o=new Rb(s);return new aa(s,o,e._key,a,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){_s=o})(FT),Ho(new jl("firestore",((a,{instanceIdentifier:o,options:h})=>{const m=a.getProvider("app").getImmediate(),p=new Vd(new o1(a.getProvider("auth-internal")),new f1(m,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,A)})(m,o),m);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),os(cy,hy,e),os(cy,hy,"esm2020")})();const Vb={apiKey:"AIzaSyBl5DLGm9mvAJZi84csyrIuWX3E1qyn9fw",authDomain:"shopping-list-v1-719e0.firebaseapp.com",projectId:"shopping-list-v1-719e0",storageBucket:"shopping-list-v1-719e0.firebasestorage.app",messagingSenderId:"1028581620467",appId:"1:1028581620467:web:8c57395554d12ae4355586",measurementId:"G-EHY9XK5S8W"},Ib=h_(Vb),Nb=cb(Ib);function Ob(){return Ct.jsx("div",{className:"spinner"})}function Mb(){const[s,e]=rs.useState([]),[i,a]=rs.useState(1),[o,h]=rs.useState(""),[m,p]=rs.useState(!1),v=s.reduce((st,nt)=>nt.bought?st+1:st,0),_=ob(Nb,"shoppingList","list123");rs.useEffect(()=>{(async()=>{const nt=await bb(_);nt.exists()&&e(nt.data().items||[]),p(!0)})()},[]);const A=async st=>{try{await wb(_,{items:st}),console.log("Saved to Firebase")}catch(nt){console.error("Save error:",nt)}};async function O(st){if(st.preventDefault(),!o)return;const nt=[...s,{item:o,bought:!1}];e(nt),h(""),A(nt)}async function x(st,nt){e(lt=>{const Tt=[...lt],pt=nt==="up"?st-1:st+1;return pt<0||pt>=Tt.length?lt:([Tt[st],Tt[pt]]=[Tt[pt],Tt[st]],A(Tt),Tt)})}async function Q(st){const nt=s.map((lt,Tt)=>Tt===st?{...lt,bought:!lt.bought}:lt);e(nt),A(nt)}async function $(st){const nt=s.filter((lt,Tt)=>Tt!==st);e(nt),A(nt)}async function rt(){const st=s.filter(nt=>!nt.bought);e(st),A(st)}async function J(){e([]),A([])}return Ct.jsx("div",{className:"flex flex-row justify-center items-center bg-[var(--violet)] h-dvh ",children:Ct.jsxs("div",{className:"border-2 border-hidden rounded-md bg-white p-4 flex flex-col justify-center items-center gap-2 md:w-[60%] lg:w-[50%] xl:w-[40%] w-[80%] ",children:[Ct.jsx("h5",{className:"font-bold",children:"My Shopping List"}),Ct.jsx("p",{className:"text-gray-400 text-xs",children:"Organize your shopping list here"}),Ct.jsxs("form",{onSubmit:O,className:"flex flex-col justify-center items-center w-full",children:[Ct.jsx("input",{type:"text",value:o,onChange:st=>h(st.target.value),name:"input",placeholder:"Type here...",className:"border-[1.5px] w-[90%] rounded-md px-2 text-xs py-1"}),Ct.jsx("button",{className:"text-white bg-[var(--violet)] hover:bg-[var(--violet-hover)] rounded-md  my-2 text-xs px-3 py-1.5",children:"Add To List"})]}),Ct.jsxs("div",{className:"flex justify-evenly items-center w-full -translate-x-3",children:[Ct.jsxs("div",{className:"flex flex-col items-center text-xs",children:[Ct.jsx("p",{className:"font-bold",children:v||0}),Ct.jsx("p",{children:"Bought"})]}),Ct.jsxs("div",{className:"flex flex-col items-center text-xs",children:[Ct.jsx("p",{className:"font-bold",children:s?s?.length-v:0}),Ct.jsx("p",{children:"Open"})]}),Ct.jsxs("div",{className:"flex flex-col items-center text-xs",children:[Ct.jsx("p",{className:"font-bold",children:s?s?.length:0}),Ct.jsx("p",{children:"All"})]})]}),Ct.jsxs("div",{className:"flex gap-3 mt-3",children:[Ct.jsx("button",{className:`${i===1?"active-button":"passive-button"} text-xs py-1.5 px-2 rounded-md`,onClick:()=>a(1),children:"All Items"}),Ct.jsx("button",{className:`${i===2?"active-button":"passive-button"} text-xs py-1.5 px-2 rounded-md`,onClick:()=>a(2),children:"Pending"}),Ct.jsx("button",{className:`${i===3?"active-button":"passive-button"} text-xs py-1.5 px-2 rounded-md`,onClick:()=>a(3),children:"Purchased"})]}),Ct.jsxs("div",{className:"flex gap-2",children:[Ct.jsx("button",{className:"text-white bg-red-500 rounded-md my-1 text-[10px] px-2 py-1.5",onClick:()=>rt(),children:"Clear Purchased"}),Ct.jsx("button",{className:"text-white bg-red-500 rounded-md my-1 text-[10px] px-2 py-1.5",onClick:()=>J(),children:"Clear List"})]}),m?s.length>0?Ct.jsx("div",{className:"flex flex-col items-center w-full",children:s.map((st,nt)=>Ct.jsx(T0,{object:st,handleToggle:Q,handleDeleteItem:$,handleMove:x,index:nt,active:i},nt))}):Ct.jsx("p",{className:"my-3 text-xs text-gray-400",children:"Your List is empty, add items to start"}):Ct.jsx(Ob,{})]})})}E0.createRoot(document.getElementById("root")).render(Ct.jsx(rs.StrictMode,{children:Ct.jsx(Mb,{})}));
